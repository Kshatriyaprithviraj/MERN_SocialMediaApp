(()=>{var e={5551:(e,t,o)=>{"use strict";o.d(t,{Z:()=>v});var r,a=o(9297),n=o.n(a),i=o(2146),l=o(1615),s=o(2512),d=o(6967),c=o(7666),p=o(9162),u=o(1027),m=o(688),f=o(1761);e=o.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e),"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const h=()=>n().createElement("div",null,n().createElement(f.Z,null),n().createElement(i.Switch,null,n().createElement(i.Route,{exact:!0,path:"/",component:l.Z}),n().createElement(i.Route,{path:"/users",component:s.Z}),n().createElement(i.Route,{path:"/signup",component:d.Z}),n().createElement(i.Route,{path:"/signin",component:c.Z}),n().createElement(m.Z,{path:"/user/edit/:userId",component:p.Z}),n().createElement(i.Route,{path:"/user/:userId",component:u.Z}))),g=h,v=g;var y,b;(y="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(y.register(h,"MainRouter","/home/prithvi/Desktop/Socialmedia-app/client/MainRouter.js"),y.register(g,"default","/home/prithvi/Desktop/Socialmedia-app/client/MainRouter.js")),(b="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&b(e)},688:(e,t,o)=>{"use strict";o.d(t,{Z:()=>p}),require("lodash");var r,a=o(9297),n=o.n(a),i=o(2146),l=o(3288);function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r])}return e}).apply(this,arguments)}e=o.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e),"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const d=({component:e,...t})=>n().createElement(i.Route,s({},t,{render:t=>l.Z.isAuthenticated()?n().createElement(e,t):n().createElement(i.Redirect,{to:{pathname:"/signin",state:{from:t.location}}})})),c=d,p=c;var u,m;(u="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(u.register(d,"PrivateRoute","/home/prithvi/Desktop/Socialmedia-app/client/auth/PrivateRoute.js"),u.register(c,"default","/home/prithvi/Desktop/Socialmedia-app/client/auth/PrivateRoute.js")),(m="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&m(e)},7666:(e,t,o)=>{"use strict";o.d(t,{Z:()=>j});var r,a=o(9297),n=o.n(a),i=o(9575),l=o.n(i),s=o(3162),d=o.n(s),c=o(3866),p=o.n(c),u=o(9767),m=o.n(u),f=o(2879),h=o.n(f),g=o(4740),v=o.n(g),y=o(1310),b=o.n(y),L=o(8604),H=o(3288),G=o(2146),E=o(2082);e=o.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e);var w="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e};const S=(0,L.makeStyles)((e=>({card:{maxWidth:600,margin:"auto",textAlign:"center",marginTop:e.spacing(5),paddingBottom:e.spacing(2)},error:{verticalAlign:"middle"},title:{marginTop:e.spacing(2),color:e.palette.openTitle},textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1),width:300},submit:{margin:"auto",marginBottom:e.spacing(2)}})));function j(e){const t=S(),[o,r]=(0,a.useState)({email:"",password:"",error:"",redirectToReferrer:!1}),i=e=>t=>{r({...o,[e]:t.target.value})},{from:s}=e.location.state||{from:{pathname:"/"}},{redirectToReferrer:c}=o;return c?n().createElement(G.Redirect,{to:s}):n().createElement(l(),{className:t.card},n().createElement(p(),null,n().createElement(v(),{variant:"h6",className:t.title},"Sign In"),n().createElement(h(),{id:"email",type:"email",label:"Email",className:t.textField,value:o.email,onChange:i("email"),margin:"normal"}),n().createElement("br",null),n().createElement(h(),{id:"password",type:"password",label:"Password",className:t.textField,value:o.password,onChange:i("password"),margin:"normal"}),n().createElement("br",null)," ",o.error&&n().createElement(v(),{component:"p",color:"error"},n().createElement(b(),{color:"error",className:t.error},"error"),o.error)),n().createElement(d(),null,n().createElement(m(),{color:"primary",variant:"contained",onClick:()=>{const e={email:o.email||void 0,password:o.password||void 0};(0,E.x)(e).then((e=>{e.error?r({...o,error:e.error}):H.Z.authenticate(e,(()=>{r({...o,error:"",redirectToReferrer:!0})}))}))},className:t.submit},"Submit")))}var k,x;w(j,"useStyles{classes}\nuseState{[values, setValues]({\n    email: '',\n    password: '',\n    error: '',\n    redirectToReferrer: false,\n  })}",(()=>[S])),(k="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(k.register(S,"useStyles","/home/prithvi/Desktop/Socialmedia-app/client/auth/Signin.js"),k.register(j,"Signin","/home/prithvi/Desktop/Socialmedia-app/client/auth/Signin.js")),(x="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&x(e)},2082:(e,t,o)=>{"use strict";var r;o.d(t,{x:()=>a,u:()=>n}),e=o.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e),"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const a=async e=>{try{let t=await fetch("/auth/signin",{method:"POST",headers:{Accept:"application/json","Content-type":"application/json"},credentials:"include",body:JSON.stringify(e)});return await t.json()}catch(e){console.log(e)}},n=async()=>{try{let e=await fetch("/auth/signout",{method:"GET"});return await e.json()}catch(e){console.log(e)}};var i,l;(i="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(i.register(a,"signin","/home/prithvi/Desktop/Socialmedia-app/client/auth/api-auth.js"),i.register(n,"signout","/home/prithvi/Desktop/Socialmedia-app/client/auth/api-auth.js")),(l="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&l(e)},3288:(e,t,o)=>{"use strict";o.d(t,{Z:()=>l});var r,a=o(2082);e=o.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e),"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const n={isAuthenticated:()=>"undefined"!=typeof window&&!!sessionStorage.getItem("jwt")&&JSON.parse(sessionStorage.getItem("jwt")),authenticate(e,t){"undefined"!=typeof window&&sessionStorage.setItem("jwt",JSON.stringify(e)),t()},clearJWT(e){"undefined"!=typeof window&&sessionStorage.removeItem("jwt"),e(),(0,a.u)().then((e=>{document.cookie="t=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;"}))}},i=n,l=i;var s,d;(s="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(s.register(n,"auth","/home/prithvi/Desktop/Socialmedia-app/client/auth/auth-helper.js"),s.register(i,"default","/home/prithvi/Desktop/Socialmedia-app/client/auth/auth-helper.js")),(d="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&d(e)},1615:(e,t,o)=>{"use strict";o.d(t,{Z:()=>G});var r=o(9297),a=o.n(r),n=o(8604),i=o(9575),l=o.n(i),s=o(3866),d=o.n(s);const c=require("@material-ui/core/CardMedia");var p=o.n(c),u=o(4740),m=o.n(u);const f=o.p+"d6847f2b3612d3ced55cfbb8408c9fb5.jpg",h=require("@material-ui/core");var g,v=o(3288),y=o(4926),b=o(5163);e=o.hmd(e),(g="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&g(e);var L="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e};const H=(0,n.makeStyles)((e=>({root:{flexGrow:1,margin:30},card:{maxWidth:600,margin:"auto",marginTop:e.spacing(5),marginBottom:e.spacing(5)},title:{padding:`${e.spacing(3)}px ${e.spacing(2.5)}px ${e.spacing(2)}px`,color:e.palette.openTitle},media:{minHeight:400},credit:{padding:10,textAlign:"right",backgroundColor:"#ededed",borderBottom:"1px solid #d0d0d0","& a":{color:"#3f4771"}}})));function G({history:e}){const t=H(),[o,n]=(0,r.useState)(initialState);return(0,r.useEffect)((()=>{n(v.Z.isAuthenticated());const t=e.listen((()=>{n(v.Z.isAuthenticated())}));return()=>{t()}}),[]),a().createElement("div",{className:t.root},!o&&a().createElement(h.Grid,{container:!0,spacing:8},a().createElement(h.Grid,{item:!0,xs:12},a().createElement(l(),{className:t.card},a().createElement(m(),{variant:"h6",className:t.title},"Home Page"),a().createElement(p(),{className:t.media,image:f,title:"Socialize"}),a().createElement(d(),null,a().createElement(m(),{variant:"body1",component:"p"},"Welcome to Socialize home page."))))),o&&a().createElement(h.Grid,{container:!0,spacing:8},a().createElement(h.Grid,{item:!0,xs:8,sm:7},a().createElement(b.Z,null)),a().createElement(h.Grid,{item:!0,xs:6,sm:5},a().createElement(y.Z,null))))}var E,w;L(G,"useStyles{classes}\nuseState{[defaultPage, setDefaultPage](initialState)}\nuseEffect{}",(()=>[H])),(E="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(E.register(H,"useStyles","/home/prithvi/Desktop/Socialmedia-app/client/core/Home.js"),E.register(G,"Home","/home/prithvi/Desktop/Socialmedia-app/client/core/Home.js")),(w="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&w(e)},1761:(e,t,o)=>{"use strict";o.d(t,{Z:()=>E});var r=o(9297),a=o.n(r),n=o(2905),i=o.n(n);const l=require("@material-ui/core/Toolbar");var s=o.n(l),d=o(4740),c=o.n(d),p=o(1550),u=o.n(p);const m=require("@material-ui/icons/Home");var f,h=o.n(m),g=o(9767),v=o.n(g),y=o(3288),b=o(2146);e=o.hmd(e),(f="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&f(e),"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const L=(e,t)=>e.location.path==t?{color:"#ff4081"}:{color:"#ffffff"},H=(0,b.withRouter)((({history:e})=>a().createElement(i(),{position:"static"},a().createElement(s(),null,a().createElement(c(),{variant:"h6",color:"inherit"},"MERN Social"),a().createElement(b.Link,{to:"/"},a().createElement(u(),{"aria-label":"Home",style:L(e,"/")},a().createElement(h(),null))),!y.Z.isAuthenticated()&&a().createElement("span",null,a().createElement(b.Link,{to:"/signup"},a().createElement(v(),{style:L(e,"/signup")},"Sign up")),a().createElement(b.Link,{to:"/signin"},a().createElement(v(),{style:L(e,"/signin")},"Sign In"))),y.Z.isAuthenticated()&&a().createElement("span",null,a().createElement(b.Link,{to:"/user/"+y.Z.isAuthenticated().user._id},a().createElement(v(),{style:L(e,"/user/"+y.Z.isAuthenticated().user._id)},"My Profile")),a().createElement(v(),{color:"inherit",onClick:()=>{y.Z.clearJWT((()=>e.push("/")))}},"Sign out")))))),G=H,E=G;var w,S;(w="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(w.register(L,"isActive","/home/prithvi/Desktop/Socialmedia-app/client/core/Menu.js"),w.register(H,"Menu","/home/prithvi/Desktop/Socialmedia-app/client/core/Menu.js"),w.register(G,"default","/home/prithvi/Desktop/Socialmedia-app/client/core/Menu.js")),(S="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&S(e)},1130:(e,t,o)=>{"use strict";o.d(t,{Z:()=>G});var r,a=o(9297),n=o.n(a),i=o(3288),l=o(7486),s=o.n(l),d=o(2879),c=o.n(d),p=o(9558),u=o.n(p),m=o(1310),f=o.n(m),h=o(4229),g=o.n(h),v=o(8604),y=o(8918),b=o(2146);e=o.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e);var L="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e};const H=(0,v.makeStyles)((e=>({cardHeader:{paddingTop:e.spacing(1),paddingBottom:e.spacing(1)},smallAvatar:{width:25,height:25},commentField:{width:"96%"},commentText:{backgroundColor:"white",padding:e.spacing(1),margin:`2px ${e.spacing(2)}px 2px 2px`},commentDate:{display:"block",color:"gray",fontSize:"0.8em"},commentDelete:{fontSize:"1.6em",verticalAlign:"middle",cursor:"pointer"}})));function G(e){const t=H(),[o,r]=(0,a.useState)(""),l=i.Z.isAuthenticated(),d=o=>{return n().createElement("p",{className:t.commentText},n().createElement(b.Link,{to:"/user/"+o.postedBy._id},o.postedBy.name),n().createElement("br",null),o.text,n().createElement("span",{className:t.commentDate},new Date(o.created).toDateString()," |",i.Z.isAuthenticated().user._id===o.postedBy._id&&n().createElement(f(),{onClick:(r=o,t=>{(0,y.By)({userId:l.user._id},{t:l.token},e.postId,r).then((t=>{t.error?console.log(t.error):e.updateComments(t.comments)}))}),className:t.commentDelete},"delete")));var r};return n().createElement("div",null,n().createElement(s(),{avatar:n().createElement(u(),{className:t.smallAvatar,src:"/api/users/photo/"+i.Z.isAuthenticated().user._id}),title:n().createElement(c(),{onKeyDown:t=>{13==t.keyCode&&t.target.value&&(t.preventDefault(),(0,y.UI)({userId:l.user._id},{t:l.token},e.postId,{text:o}).then((t=>{t.error?console.log(t.error):(r(""),e.updateComments(t.comments))})))},multiline:!0,value:o,onChange:e=>{r(e.target.value)},placeholder:"Write something ...",className:t.commentField,margin:"normal"}),className:t.cardHeader}),e.comments.map(((e,o)=>n().createElement(s(),{avatar:n().createElement(u(),{className:t.smallAvatar,src:"/api/users/photo/"+e.postedBy._id}),title:d(e),className:t.cardHeader,key:o}))))}var E,w;L(G,"useStyles{classes}\nuseState{[text, setText]('')}",(()=>[H])),G.propTypes={postId:g().string.isRequired,comments:g().array.isRequired,updateComments:g().func.isRequired},(E="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(E.register(H,"useStyles","/home/prithvi/Desktop/Socialmedia-app/client/post/Comment.js"),E.register(G,"Comments","/home/prithvi/Desktop/Socialmedia-app/client/post/Comment.js")),(w="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&w(e)},9597:(e,t,o)=>{"use strict";o.d(t,{Z:()=>q});var r=o(9297),a=o.n(r),n=o(3288),i=o(9575),l=o.n(i),s=o(7486),d=o.n(s),c=o(3866),p=o.n(c),u=o(3162),m=o.n(u),f=o(9767),h=o.n(f),g=o(2879),v=o.n(g),y=o(4740),b=o.n(y),L=o(9558),H=o.n(L),G=o(1310),E=o.n(G),w=o(4229),S=o.n(w),j=o(8604),k=o(8918),x=o(1550),Z=o.n(x);const D=require("@material-ui/icons/PhotoCamera");var I,T=o.n(D);e=o.hmd(e),(I="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&I(e);var M="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e};const N=(0,j.makeStyles)((e=>({root:{backgroundColor:"#efefef",padding:`${e.spacing(3)}px 0px 1px`},card:{maxWidth:600,margin:"auto",marginBottom:e.spacing(3),backgroundColor:"rgba(65, 150, 136, 0.09)",boxShadow:"none"},cardContent:{backgroundColor:"white",paddingTop:0,paddingBottom:0},cardHeader:{paddingTop:8,paddingBottom:8},photoButton:{height:30,marginBottom:5},input:{display:"none"},textField:{marginLeft:e.spacing(2),marginRight:e.spacing(2),width:"90%"},submit:{margin:e.spacing(2)},filename:{verticalAlign:"super"}})));function q(e){const t=N(),[o,i]=(0,r.useState)({text:"",photo:"",error:"",user:{}}),s=n.Z.isAuthenticated();(0,r.useEffect)((()=>{i({...o,user:n.Z.isAuthenticated().user})}),[]);const c=e=>t=>{const r="photo"===e?t.target.files[0]:t.target.value;i({...o,[e]:r})},u=o.user._id?"/api/users/photo/"+o.user._id:"/api/users/defaultphoto";return a().createElement("div",{className:t.root},a().createElement(l(),{className:t.card},a().createElement(d(),{avatar:a().createElement(H(),{src:u}),title:o.user.name,className:t.cardHeader}),a().createElement(p(),{className:t.cardContent},a().createElement(v(),{placeholder:"Share your thoughts ...",multiline:!0,rows:"3",value:o.text,onChange:c("text"),className:t.textField,margin:"normal"}),a().createElement("input",{accept:"image/*",onChange:c("photo"),className:t.input,id:"icon-button-file",type:"file"}),a().createElement("label",{htmlFor:"icon-button-file"},a().createElement(Z(),{color:"secondary",className:t.photoButton,component:"span"},a().createElement(T(),null))),a().createElement("span",{className:t.filename},o.photo?o.photo.name:""),o.error&&a().createElement(b(),{component:"p",color:"error"},a().createElement(E(),{color:"error",className:t.error},"error"),o.error)),a().createElement(m(),null,a().createElement(h(),{color:"primary",variant:"contained",disabled:""===o.text,onClick:()=>{let t=new FormData;t.append("text",o.text),t.append("photo",o.photo),(0,k.Ue)({userId:s.user._id},{t:s.token},t).then((t=>{t.error?i({...o,error:t.error}):(i({...o,text:"",photo:""}),e.addUpdate(t))}))},className:t.submit},"POST"))))}var C,A;M(q,"useStyles{classes}\nuseState{[values, setValues]({\n    text: '',\n    photo: '',\n    error: '',\n    user: {},\n  })}\nuseEffect{}",(()=>[N])),q.propTypes={addUpdate:S().func.isRequired},(C="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(C.register(N,"useStyles","/home/prithvi/Desktop/Socialmedia-app/client/post/NewPost.js"),C.register(q,"NewPost","/home/prithvi/Desktop/Socialmedia-app/client/post/NewPost.js")),(A="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&A(e)},5163:(e,t,o)=>{"use strict";o.d(t,{Z:()=>b});var r,a=o(9297),n=o.n(a),i=o(8604),l=o(9575),s=o.n(l),d=o(4740),c=o.n(d),p=o(5207),u=o.n(p),m=o(3288),f=o(4326),h=o(8918),g=o(9597);e=o.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e);var v="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e};const y=(0,i.makeStyles)((e=>({card:{margin:"auto",paddingTop:0,paddingBottom:e.spacing(3)},title:{padding:`${e.spacing(3)}px ${e.spacing(2.5)}px ${e.spacing(2)}px`,color:e.palette.openTitle,fontSize:"1em"},media:{minHeight:330}})));function b(){const e=y(),[t,o]=(0,a.useState)([]),r=m.Z.isAuthenticated();return(0,a.useEffect)((()=>{const e=new AbortController,t=e.signal;return(0,h.rv)({userId:r.user._id},{t:r.token},t).then((e=>{e.error?console.log(e.error):o(e)})),function(){e.abort()}}),[]),n().createElement(s(),{className:e.card},n().createElement(c(),{type:"title",className:e.title},"Newsfeed"),n().createElement(u(),null),n().createElement(g.Z,{addUpdate:e=>{const r=[...t];r.unshift(e),o(r)}}),n().createElement(u(),null),n().createElement(f.Z,{removeUpdate:e=>{const r=[...t],a=r.indexOf(e);r.splice(a,1),o(r)},posts:t}))}var L,H;v(b,"useStyles{classes}\nuseState{[posts, setPosts]([])}\nuseEffect{}",(()=>[y])),(L="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(L.register(y,"useStyles","/home/prithvi/Desktop/Socialmedia-app/client/post/Newsfeed.js"),L.register(b,"Newsfeed","/home/prithvi/Desktop/Socialmedia-app/client/post/Newsfeed.js")),(H="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&H(e)},4942:(e,t,o)=>{"use strict";o.d(t,{Z:()=>B});var r=o(9297),a=o.n(r),n=o(3288),i=o(9575),l=o.n(i),s=o(7486),d=o.n(s),c=o(3866),p=o.n(c),u=o(3162),m=o.n(u),f=o(4740),h=o.n(f),g=o(9558),v=o.n(g),y=o(1550),b=o.n(y),L=o(9414),H=o.n(L);const G=require("@material-ui/icons/Favorite");var E=o.n(G);const w=require("@material-ui/icons/FavoriteBorder");var S=o.n(w);const j=require("@material-ui/icons/Comment");var k,x=o.n(j),Z=o(5207),D=o.n(Z),I=o(4229),T=o.n(I),M=o(8604),N=o(2146),q=o(8918),C=o(1130);e=o.hmd(e),(k="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&k(e);var A="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e};const _=(0,M.makeStyles)((e=>({card:{maxWidth:600,margin:"auto",marginBottom:e.spacing(3),backgroundColor:"rgba(0, 0, 0, 0.06)"},cardContent:{backgroundColor:"white",padding:`${e.spacing(2)}px 0px`},cardHeader:{paddingTop:e.spacing(1),paddingBottom:e.spacing(1)},text:{margin:e.spacing(2)},photo:{textAlign:"center",backgroundColor:"#f2f5f4",padding:e.spacing(1)},media:{height:200},button:{margin:e.spacing(1)}})));function B(e){const t=_(),o=n.Z.isAuthenticated(),[i,s]=(0,r.useState)({like:(c=e.post.likes,-1!==c.indexOf(o.user._id)),likes:e.post.likes.length,comments:e.post.comments});var c;const u=()=>{(i.like?q.Yt:q.vL)({userId:o.user._id},{t:o.token},e.post._id).then((e=>{e.error?console.log(e.error):s({...i,like:!i.like,likes:e.likes.length})}))};return a().createElement(l(),{className:t.card},a().createElement(d(),{avatar:a().createElement(v(),{src:"/api/users/photo/"+e.post.postedBy._id}),action:e.post.postedBy._id===n.Z.isAuthenticated().user._id&&a().createElement(b(),{onClick:()=>{(0,q.Od)({postId:e.post._id},{t:o.token}).then((t=>{t.error?console.log(t.error):e.onRemove(e.post)}))}},a().createElement(H(),null)),title:a().createElement(N.Link,{to:"/user/"+e.post.postedBy._id},e.post.postedBy.name),subheader:new Date(e.post.created).toDateString(),className:t.cardHeader}),a().createElement(p(),{className:t.cardContent},a().createElement(h(),{component:"p",className:t.text},e.post.text),e.post.photo&&a().createElement("div",{className:t.photo},a().createElement("img",{className:t.media,src:"/api/posts/photo/"+e.post._id}))),a().createElement(m(),null,i.like?a().createElement(b(),{onClick:u,className:t.button,"aria-label":"Like",color:"secondary"},a().createElement(E(),null)):a().createElement(b(),{onClick:u,className:t.button,"aria-label":"Unlike",color:"secondary"},a().createElement(S(),null)),a().createElement("span",null,i.likes),a().createElement(b(),{className:t.button,"aria-label":"Comment",color:"secondary"},a().createElement(x(),null)),a().createElement("span",null,i.comments.length)),a().createElement(D(),null),a().createElement(C.Z,{postId:e.post._id,comments:i.comments,updateComments:e=>{s({...i,comments:e})}}))}var P,U;A(B,"useStyles{classes}\nuseState{[values, setValues]({\n    like: checkLike(props.post.likes),\n    likes: props.post.likes.length,\n    comments: props.post.comments,\n  })}",(()=>[_])),B.propTypes={post:T().object.isRequired,onRemove:T().func.isRequired},(P="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(P.register(_,"useStyles","/home/prithvi/Desktop/Socialmedia-app/client/post/Post.js"),P.register(B,"Post","/home/prithvi/Desktop/Socialmedia-app/client/post/Post.js")),(U="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&U(e)},4326:(e,t,o)=>{"use strict";o.d(t,{Z:()=>p});var r,a,n,i=o(9297),l=o.n(i),s=o(4229),d=o.n(s),c=o(4942);function p(e){return l().createElement("div",{style:{marginTop:"24px"}},e.posts.map(((t,o)=>l().createElement(c.Z,{post:t,key:o,onRemove:e.removeUpdate}))))}e=o.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e),"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature,p.propTypes={posts:d().array.isRequired,removeUpdate:d().func.isRequired},(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&a.register(p,"PostList","/home/prithvi/Desktop/Socialmedia-app/client/post/PostList.js"),(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&n(e)},8918:(e,t,o)=>{"use strict";var r;o.d(t,{rv:()=>i,jv:()=>n,Ue:()=>a,Od:()=>l,vL:()=>s,Yt:()=>d,UI:()=>c,By:()=>p}),e=o.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e),"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const a=async(e,t,o)=>{try{let r=await fetch("/api/posts/new/"+e.userId,{method:"POST",headers:{Accept:"application/json",Authorization:"Bearer "+t.t},body:o});return await r.json()}catch(e){console.log(e)}},n=async(e,t)=>{try{let o=await fetch("/api/posts/by/"+e.userId,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+t.t}});return await o.json()}catch(e){console.log(e)}},i=async(e,t,o)=>{try{let r=await fetch("/api/posts/feed/"+e.userId,{method:"GET",signal:o,headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+t.t}});return await r.json()}catch(e){console.log(e)}},l=async(e,t)=>{try{let o=await fetch("/api/posts/"+e.postId,{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+t.t}});return await o.json()}catch(e){console.log(e)}},s=async(e,t,o)=>{try{let r=await fetch("/api/posts/like/",{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+t.t},body:JSON.stringify({userId:e.userId,postId:o})});return await r.json()}catch(e){console.log(e)}},d=async(e,t,o)=>{try{let r=await fetch("/api/posts/unlike/",{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+t.t},body:JSON.stringify({userId:e.userId,postId:o})});return await r.json()}catch(e){console.log(e)}},c=async(e,t,o,r)=>{try{let a=await fetch("/api/posts/comment/",{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+t.t},body:JSON.stringify({userId:e.userId,postId:o,comment:r})});return await a.json()}catch(e){console.log(e)}},p=async(e,t,o,r)=>{try{let a=await fetch("/api/posts/uncomment/",{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+t.t},body:JSON.stringify({userId:e.userId,postId:o,comment:r})});return await a.json()}catch(e){console.log(e)}};var u,m;(u="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(u.register(a,"create","/home/prithvi/Desktop/Socialmedia-app/client/post/api-post.js"),u.register(n,"listByUser","/home/prithvi/Desktop/Socialmedia-app/client/post/api-post.js"),u.register(i,"listNewsFeed","/home/prithvi/Desktop/Socialmedia-app/client/post/api-post.js"),u.register(l,"remove","/home/prithvi/Desktop/Socialmedia-app/client/post/api-post.js"),u.register(s,"like","/home/prithvi/Desktop/Socialmedia-app/client/post/api-post.js"),u.register(d,"unlike","/home/prithvi/Desktop/Socialmedia-app/client/post/api-post.js"),u.register(c,"comment","/home/prithvi/Desktop/Socialmedia-app/client/post/api-post.js"),u.register(p,"uncomment","/home/prithvi/Desktop/Socialmedia-app/client/post/api-post.js")),(m="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&m(e)},1182:(e,t,o)=>{"use strict";o.d(t,{Z:()=>s});var r=o(8604);const a=require("@material-ui/core/colors");var n;e=o.hmd(e),(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&n(e),"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const i=(0,r.createMuiTheme)({typography:{useNextVariants:!0},palette:{primary:{light:"#5c67a3",main:"#3f4771",dark:"#2e355b",contrastText:"#fff"},secondary:{light:"#ff79b0",main:"#ff4081",dark:"#c60055",contrastText:"#000"},openTitle:a.teal[700],protectedTitle:a.orange[700],type:"light"}}),l=i,s=l;var d,c;(d="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(d.register(i,"theme","/home/prithvi/Desktop/Socialmedia-app/client/theme.js"),d.register(l,"default","/home/prithvi/Desktop/Socialmedia-app/client/theme.js")),(c="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&c(e)},4625:(e,t,o)=>{"use strict";o.d(t,{Z:()=>Z});var r=o(9297),a=o.n(r),n=o(4229),i=o.n(n),l=o(3288),s=o(8343);const d=require("react-router");var c,p,u,m=o(1550),f=o.n(m),h=o(9767),g=o.n(h),v=o(9414),y=o.n(v),b=o(7693),L=o.n(b),H=o(1279),G=o.n(H),E=o(7513),w=o.n(E),S=o(9794),j=o.n(S),k=o(5267),x=o.n(k);function Z(e){const[t,o]=(0,r.useState)(!1),[n,i]=(0,r.useState)(!1),c=l.Z.isAuthenticated(),p=()=>{o(!1)};return n?a().createElement(d.Redirect,{to:"/"}):a().createElement("span",null,a().createElement(f(),{"aria-label":"Delete",onClick:()=>{o(!0)},color:"secondary"},a().createElement(y(),null)),a().createElement(L(),{open:t,onClose:p},a().createElement(x(),null,"Delete Account"),a().createElement(w(),null,a().createElement(j(),null,"Confirm to delete the account.")),a().createElement(G(),null,a().createElement(g(),{onClick:p,color:"primary"},"Cancel"),a().createElement(g(),{onClick:()=>{(0,s.Od)({userId:e.userId},{t:c.token}).then((e=>{e&&e.error?console.log(e.error):(l.Z.clearJWT((()=>console.log("Deleted successfully."))),i(!0))}))},color:"secondary",autoFocus:"autoFocus"},"Confirm"))))}e=o.hmd(e),(c="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&c(e),("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e})(Z,"useState{[open, setOpen](false)}\nuseState{[redirect, setRedirect](false)}"),Z.propTypes={userId:i().string.isRequired},(p="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&p.register(Z,"DeleteUser","/home/prithvi/Desktop/Socialmedia-app/client/user/DeleteUser.js"),(u="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&u(e)},4926:(e,t,o)=>{"use strict";o.d(t,{Z:()=>C});var r=o(9297),a=o.n(r),n=o(8604),i=o(2959),l=o.n(i),s=o(9908),d=o.n(s),c=o(8305),p=o.n(c),u=o(3673),m=o.n(u),f=o(1667),h=o.n(f),g=o(2339),v=o.n(g),y=o(9558),b=o.n(y),L=o(9767),H=o.n(L),G=o(1550),E=o.n(G),w=o(4740),S=o.n(w),j=o(2146),k=o(8343),x=o(3288);const Z=require("@material-ui/core/Snackbar");var D=o.n(Z);const I=require("@material-ui/icons/Visibility");var T,M=o.n(I);e=o.hmd(e),(T="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&T(e);var N="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e};const q=(0,n.makeStyles)((e=>({root:e.mixins.gutters({padding:e.spacing(1),margin:0}),title:{margin:`${e.spacing(3)}px ${e.spacing(1)}px ${e.spacing(2)}px`,color:e.palette.openTitle,fontSize:"1em"},avatar:{marginRight:e.spacing(1)},follow:{right:e.spacing(2)},snack:{color:e.palette.protectedTitle},viewButton:{verticalAlign:"middle"}})));function C(){const e=q(),[t,o]=(0,r.useState)({users:[],opne:!1,followMessage:""}),n=x.Z.isAuthenticated();return(0,r.useEffect)((()=>{const e=new AbortController,r=e.signal;return(0,k.bv)({userId:n.user._id},{t:n.token},r).then((e=>{e&&e.error?console.log(e.error):o({...t,users:e})})),function(){e.abort()}}),[]),a().createElement("div",null,a().createElement(l(),{className:e.root,elevation:4},a().createElement(S(),{type:"title",className:e.title},"Who to follow"),a().createElement(d(),null,t.users.map(((r,i)=>a().createElement("span",{key:i},a().createElement(p(),null,a().createElement(m(),{className:e.avatar},a().createElement(b(),{src:"/api/users/photo/"+r._id})),a().createElement(v(),{primary:r.name}),a().createElement(h(),{className:e.follow},a().createElement(j.Link,{to:"/user/"+r._id},a().createElement(E(),{variant:"contained",color:"secondary",className:e.viewButton},a().createElement(M(),null))),a().createElement(H(),{"aria-label":"Follow",variant:"contained",color:"primary",onClick:()=>{var e,a;e=r,a=i,(0,k.ZN)({userId:n.user._id},{t:n.token},e._id).then((r=>{if(r.error)console.log(r.error);else{let r=t.users;r.splice(a,1),o({...t,users:r,open:!0,followMessage:`Following ${e.name}!`})}}))}},"Follow")))))))),a().createElement(D(),{anchorOrigin:{vertical:"bottom",horizontal:"right"},open:t.open,onClose:(e,r)=>{o({...t,open:!1})},autoHideDuration:6e3,message:a().createElement("span",{className:e.snack},t.followMessage)}))}var A,_;N(C,"useStyles{classes}\nuseState{[values, setValues]({\n    users: [],\n    opne: false,\n    followMessage: '',\n  })}\nuseEffect{}",(()=>[q])),(A="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(A.register(q,"useStyles","/home/prithvi/Desktop/Socialmedia-app/client/user/Discover.js"),A.register(C,"Discover","/home/prithvi/Desktop/Socialmedia-app/client/user/Discover.js")),(_="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&_(e)},9162:(e,t,o)=>{"use strict";o.d(t,{Z:()=>j});var r,a=o(9297),n=o.n(a),i=o(9575),l=o.n(i),s=o(3162),d=o.n(s),c=o(3866),p=o.n(c),u=o(9767),m=o.n(u),f=o(2879),h=o.n(f),g=o(4740),v=o.n(g),y=o(1310),b=o.n(y),L=o(8604),H=o(3288),G=o(8343),E=o(2146);e=o.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e);var w="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e};const S=(0,L.makeStyles)((e=>({card:{maxWidth:600,margin:"auto",textAlign:"center",marginTop:e.spacing(5),paddingBottom:e.spacing(2)},title:{margin:e.spacing(2),color:e.palette.protectedTitle},error:{verticalAlign:"middle"},textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1),width:300},submit:{margin:"auto",marginRight:e.spacing(2)}})));function j({match:e}){const t=S(),[o,r]=(0,a.useState)({name:"",about:"",photo:"",email:"",password:"",redirectToProfile:!1,error:"",id:""}),i=H.Z.isAuthenticated();(0,a.useEffect)((()=>{const t=new AbortController,a=t.signal;return(0,G.ij)({userId:e.params.userId},{t:i.token},a).then((e=>{e&&e.error&&r({...o,name:e.name,email:e.email})})),function(){t.abort()}}),[e.params.userId]);const s=e=>t=>{"photo"==e?t.target.files[0]:t.target.value,r({...o,[e]:t.target.value})};return o.redirectToProfile?n().createElement(E.Redirect,{to:"/user"+o.userId}):n().createElement(l(),{className:t.card},n().createElement(p(),null,n().createElement(v(),{variant:"h6",className:t.title},"Edit Profile"),n().createElement("input",{accept:"image/*",type:"file",onChange:s("photo"),style:{display:"none"},id:"icon-button-file"}),n().createElement("label",{htmlFor:"icon-button-file"},n().createElement(m(),{variant:"contained",color:"default",component:"span"},"Upload ",n().createElement(FileUpload,null))),n().createElement("span",{className:t.filename},o.photo?o.photo.name:""),n().createElement("br",null),n().createElement(Textfield,{id:"multiline-flexible",label:"About",multiline:!0,rows:"2",value:o.about,onChange:s("about")}),n().createElement(h(),{id:"name",label:"Name",className:t.textField,value:o.name,onChange:s("name"),margin:"normal"}),n().createElement("br",null),n().createElement(h(),{id:"email",type:"email",label:"Email",className:t.textField,value:o.email,onChange:s("email"),margin:"normal"}),n().createElement("br",null),n().createElement(h(),{id:"password",type:"password",label:"Password",className:t.textField,value:o.password,onChange:s("password"),margin:"normal"}),n().createElement("br",null)," ",o.error&&n().createElement(v(),{component:"p",color:"error"},n().createElement(b(),{color:"error",className:t.error},"error"),o.error)),n().createElement(d(),null,n().createElement(m(),{color:"primary",variant:"contained",onClick:()=>{let t=new FormData;o.name&&t.append("name",o.name),o.email&&t.append("email",o.email),o.password&&t.append(".password",o.password),o.about&&t.append("about",o.about),o.photo&&t.append(".photo",o.photo),(0,G.Vx)({userId:e.params.userId},{t:i.token},t).then((e=>{e&&e.error?r({...o,error:e.error}):r({...o,userId:e._id,redirectToProfile:!0})}))},className:t.submit},"Submit")))}var k,x;w(j,"useStyles{classes}\nuseState{[values, setValues]({\n    name: '',\n    about: '',\n    photo: '',\n    email: '',\n    password: '',\n    redirectToProfile: false,\n    error: '',\n    id: '',\n  })}\nuseEffect{}",(()=>[S])),(k="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(k.register(S,"useStyles","/home/prithvi/Desktop/Socialmedia-app/client/user/EditProfile.js"),k.register(j,"EditProfile","/home/prithvi/Desktop/Socialmedia-app/client/user/EditProfile.js")),(x="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&x(e)},5696:(e,t,o)=>{"use strict";o.d(t,{Z:()=>L});var r=o(9297),a=o.n(r),n=o(8604),i=o(4229),l=o.n(i),s=o(9558),d=o.n(s),c=o(4740),p=o.n(c),u=o(2146);const m=require("@material-ui/core/GridList");var f=o.n(m);const h=require("@material-ui/core/GridListTile");var g,v=o.n(h);e=o.hmd(e),(g="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&g(e);var y="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e};const b=(0,n.makeStyles)((e=>({root:{paddingTop:e.spacing(2),display:"flex",flexWrap:"wrap",justifyContent:"space-around",overflow:"hidden",background:e.palette.background.paper},bigAvatar:{width:60,height:60,margin:"auto"},gridList:{width:500,height:220},tileText:{textAlign:"center",marginTop:10}})));function L(e){const t=b();return a().createElement("div",{className:t.root},a().createElement(f(),{cellHeight:160,className:t.gridList,cols:4},e.people.map(((e,o)=>a().createElement(v(),{style:{height:120},key:o},a().createElement(u.Link,{to:"/user/"+e._id},a().createElement(d(),{src:"/api/users/photo/"+e._id,className:t.bigAVatar}),a().createElement(p(),{className:t.titleText},e.name)))))))}var H,G;y(L,"useStyles{classes}",(()=>[b])),L.PropTypes={people:l().array.isRequired},(H="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(H.register(b,"useStyles","/home/prithvi/Desktop/Socialmedia-app/client/user/FollowGrid.js"),H.register(L,"FollowGrid","/home/prithvi/Desktop/Socialmedia-app/client/user/FollowGrid.js")),(G="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&G(e)},336:(e,t,o)=>{"use strict";var r,a,n;function i(e){return React.createElement("div",null,e.following?React.createElement(Button,{variant:"contained",color:"secondary",onClick:()=>{e.onButtonClick(unfollow)}},"Unfollow"):React.createElement(Button,{variant:"contained",color:"primary",onClick:()=>{e.onButtonClick(follow)}},"Follow"))}o.d(t,{Z:()=>i}),e=o.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e),"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature,(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&a.register(i,"FollowProfileButton","/home/prithvi/Desktop/Socialmedia-app/client/user/FollowProfileButton.js"),(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&n(e)},1027:(e,t,o)=>{"use strict";o.d(t,{Z:()=>_});var r=o(9297),a=o.n(r),n=o(8604),i=o(2959),l=o.n(i),s=o(9908),d=o.n(s),c=o(8305),p=o.n(c),u=o(3673),m=o.n(u),f=o(1667),h=o.n(f),g=o(2339),v=o.n(g),y=o(9558),b=o.n(y),L=o(1550),H=o.n(L),G=o(4740),E=o.n(G);const w=require("@material-ui/icons/Edit");var S,j=o.n(w),k=o(5207),x=o.n(k),Z=o(4625),D=o(3288),I=o(8343),T=o(2146),M=o(336),N=o(8562),q=o(8918);e=o.hmd(e),(S="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&S(e);var C="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e};const A=(0,n.makeStyles)((e=>({root:e.mixins.gutters({maxWidth:600,margin:"auto",padding:e.spacing(3),marginTop:e.spacing(5)}),title:{margin:`${e.spacing(2)}px ${e.spacing(1)}px 0`,color:e.palette.protectedTitle,fontSize:"1em"},bigAvatar:{width:60,height:60,margin:10}})));function _({match:e}){const t=A(),[o,n]=(0,r.useState)({user:{following:[],followers:[]},redirectToSignin:!1,following:!1}),[i,s]=(0,r.useState)([]),c=D.Z.isAuthenticated();(0,r.useEffect)((()=>{const t=new AbortController,r=t.signal;return(0,I.ij)({userId:e.params.userId},{t:c.token},r).then((e=>{if(e&&e.error)n({...o,redirectToSignin:!0});else{let t=u(e);n({...o,user:e,following:t}),f(e._id)}})),function(){t.abort()}}),[e.params.userId]);const u=e=>e.followers.some((e=>e._id==c.user._id)),f=e=>{(0,q.jv)({userId:e},{t:c.token}).then((e=>{e.error?console.log(e.error):s(e)}))},g=o.user._id?`/api/users/photo/${o.user._id}?${(new Date).getTime()}`:"/api/users/defaultphoto";return o.redirectToSignin?a().createElement(T.Redirect,{to:"/signin"}):a().createElement(l(),{className:t.root,elevation:4},a().createElement(E(),{variant:"h6",className:t.title},"Profile"),a().createElement(d(),{dense:!0},a().createElement(p(),null,a().createElement(m(),null,a().createElement(b(),{src:g,className:t.bigAvatar})),a().createElement(v(),{primary:o.user.name,secondary:o.user.email})," ",D.Z.isAuthenticated().user&&D.Z.isAuthenticated().user._id==o.user._id?a().createElement(h(),null,a().createElement(T.Link,{to:"/user/edit/"+o.user._id},a().createElement(H(),{"aria-label":"Edit",color:"primary"},a().createElement(j(),null))),a().createElement(Z.Z,{userId:o.user._id})):a().createElement(M.Z,{following:o.following,onButtonClick:e=>{e({userId:c.user._id},{t:c.token},o.user._id).then((e=>{e.error?n({...o,error:e.error}):n({...o,user:e,following:!o.following})}))}})),a().createElement(x(),null),a().createElement(p(),null,a().createElement(v(),{primary:o.user.about,secondary:"Joined: "+new Date(o.user.created).toDateString()}))),a().createElement(N.Z,{user:o.user,posts:i,removePostUpdate:e=>{const t=i,o=t.indexOf(e);t.splice(o,1),s(t)}}))}var B,P;C(_,"useStyles{classes}\nuseState{[values, setValues]({\n    user: { following: [], followers: [] },\n    redirectToSignin: false,\n    following: false,\n  })}\nuseState{[posts, setPosts]([])}\nuseEffect{}",(()=>[A])),(B="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(B.register(A,"useStyles","/home/prithvi/Desktop/Socialmedia-app/client/user/Profile.js"),B.register(_,"Profile","/home/prithvi/Desktop/Socialmedia-app/client/user/Profile.js")),(P="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&P(e)},8562:(e,t,o)=>{"use strict";o.d(t,{Z:()=>y});var r=o(9297),a=o.n(r),n=o(4229),i=o.n(n),l=o(2905),s=o.n(l),d=o(4740),c=o.n(d);const p=require("@material-ui/core/Tabs");var u=o.n(p);const m=require("@material-ui/core/Tab");var f,h=o.n(m),g=o(5696),v=o(4326);function y(){const[e,t]=(0,r.useState)(0);return a().createElement("div",null,a().createElement(s(),{position:"static",color:"default"},a().createElement(u(),{value:e,onChange:(e,o)=>{t(o)},indicatorColor:"primary",textCOlor:"primary",variant:"fullwidth"},a().createElement(h(),{label:"Posts"}),a().createElement(h(),{label:"Following"}),a().createElement(h(),{label:"Followers"}))),0===e&&a().createElement(b,null,a().createElement(v.Z,{removeUpdate:props.removeUpdate,posts:props.posts})),1===e&&a().createElement(b,null,a().createElement(g.Z,{people:props.user.following})),2===e&&a().createElement(b,null,a().createElement(g.Z,{people:props.user.followers})))}e=o.hmd(e),(f="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&f(e),("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e})(y,"useState{[tab, setTab](0)}"),ProfileGrid.propTypes={user:i().object.isRequired,removePostUpdate:i().func.isRequired,posts:i().array.isRequired};const b=e=>a().createElement(c(),{component:"div",style:{padding:16}},e.children);var L,H;b.propTypes={childre:i().node.isRequired},(L="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(L.register(y,"ProfileTabs","/home/prithvi/Desktop/Socialmedia-app/client/user/ProfileTabs.js"),L.register(b,"TabContainer","/home/prithvi/Desktop/Socialmedia-app/client/user/ProfileTabs.js")),(H="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&H(e)},6967:(e,t,o)=>{"use strict";o.d(t,{Z:()=>q});var r,a=o(9297),n=o.n(a),i=o(9575),l=o.n(i),s=o(3162),d=o.n(s),c=o(3866),p=o.n(c),u=o(9767),m=o.n(u),f=o(2879),h=o.n(f),g=o(4740),v=o.n(g),y=o(1310),b=o.n(y),L=o(8604),H=o(8343),G=o(7693),E=o.n(G),w=o(1279),S=o.n(w),j=o(7513),k=o.n(j),x=o(9794),Z=o.n(x),D=o(5267),I=o.n(D),T=o(2146);e=o.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e);var M="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e};const N=(0,L.makeStyles)((e=>({card:{maxWidth:600,margin:"auto",textAlign:"center",marginTop:e.spacing(5),paddingBottom:e.spacing(2)},error:{verticalAlign:"middle"},title:{margin:e.spacing(2),color:e.palette.protectedTitle},textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1),width:300},submit:{margin:"auto",marginRight:e.spacing(2)}})));function q(){const e=N(),[t,o]=(0,a.useState)({name:"",password:"",email:"",open:!1,error:""}),r=e=>r=>{o({...t,[e]:r.target.value})};return n().createElement("div",null,n().createElement(l(),{className:e.card},n().createElement(p(),null,n().createElement(v(),{variant:"h6",className:e.title},"Sign up"),n().createElement(h(),{id:"name",label:"Name",className:e.textField,value:t.name,onChange:r("name"),margin:"normal"}),n().createElement("br",null),n().createElement(h(),{id:"email",type:"email",label:"Email",className:e.textField,value:t.email,onChange:r("email"),margin:"normal"}),n().createElement("br",null),n().createElement(h(),{id:"email",type:"password",label:"Password",className:e.textField,value:t.password,onChange:r("password"),margin:"normal"}),n().createElement("br",null),t.error&&n().createElement(v(),{component:"p",color:"error"},n().createElement(b(),{color:"error",className:e.error},"error"),t.error)),n().createElement(d(),null,n().createElement(m(),{color:"primary",variant:"contained",onSubmit:()=>{const e={name:t.name||void 0,email:t.email||void 0,password:t.password||void 0};(0,H.Ue)(e).then((e=>{e.error?o({...t,error:e.error}):o({...t,error:"",open:!0})}))},className:e.submit},"Submit"))),n().createElement(E(),{open:t.open,disabledBackdropClick:!0},n().createElement(I(),null,"New account"),n().createElement(k(),null,n().createElement(Z(),null,"New account successfully created")),n().createElement(S(),null,n().createElement(T.Link,{to:"/signin"},n().createElement(m(),{color:"primary",autoFocus:"autoFocus",variant:"contained"},"Sign in")))))}var C,A;M(q,"useStyles{classes}\nuseState{[values, setValues]({\n    name: '',\n    password: '',\n    email: '',\n    open: false,\n    error: '',\n  })}",(()=>[N])),(C="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(C.register(N,"useStyles","/home/prithvi/Desktop/Socialmedia-app/client/user/Signup.js"),C.register(q,"Signup","/home/prithvi/Desktop/Socialmedia-app/client/user/Signup.js")),(A="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&A(e)},2512:(e,t,o)=>{"use strict";o.d(t,{Z:()=>M});var r=o(9297),a=o.n(r),n=o(8604),i=o(2959),l=o.n(i),s=o(9908),d=o.n(s),c=o(8305),p=o.n(c),u=o(3673),m=o.n(u),f=o(1667),h=o.n(f),g=o(2339),v=o.n(g),y=o(9558),b=o.n(y),L=o(1550),H=o.n(L),G=o(4740),E=o.n(G);const w=require("@material-ui/icons/ArrowForward");var S=o.n(w);const j=require("@material-ui/icons/Person");var k,x=o.n(j),Z=o(2146),D=o(8343);e=o.hmd(e),(k="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&k(e);var I="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e};const T=(0,n.makeStyles)((e=>({root:e.mixins.gutters({padding:e.spacing(1),margin:e.spacing(5)}),title:{margin:`${e.spacing(4)}px 0 ${e.spacing(2)}px`,color:e.palette.openTitle}})));function M(){const e=T(),[t,o]=(0,r.useState)([]);return(0,r.useEffect)((()=>{const e=new AbortController,t=e.signal;return(0,D.pb)(t).then((e=>{e&&e.error?console.log(e.error):o(e)})),function(){e.abort()}}),[]),a().createElement(l(),{className:e.root,elevation:4},a().createElement(E(),{variant:"h6",className:e.title},"All users."),a().createElement(d(),{dense:!0},t.map(((e,t)=>a().createElement(Z.Link,{to:"/user"+e._id,key:t},a().createElement(p(),{button:!0},a().createElement(m(),null,a().createElement(b(),null,a().createElement(x(),null))),a().createElement(v(),{primary:e.name}),a().createElement(h(),null,a().createElement(H(),null,a().createElement(S(),null)))))))))}var N,q;I(M,"useStyles{classes}\nuseState{[users, setUsers]([])}\nuseEffect{}",(()=>[T])),(N="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(N.register(T,"useStyles","/home/prithvi/Desktop/Socialmedia-app/client/user/Users.js"),N.register(M,"Users","/home/prithvi/Desktop/Socialmedia-app/client/user/Users.js")),(q="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&q(e)},8343:(e,t,o)=>{"use strict";var r;o.d(t,{Ue:()=>a,pb:()=>n,ij:()=>i,Vx:()=>l,Od:()=>s,ZN:()=>d,bv:()=>c}),e=o.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e),"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const a=async e=>{try{let t=await fetch("api/users",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)});return await t.json()}catch(e){console.log(e)}},n=async e=>{try{let t=await fetch("/api/users/",{method:"GET",signal:e});return await t.json()}catch(e){console.log(e)}},i=async(e,t,o)=>{try{let r=await fetch("/api/users/"+e.userId,{method:"GET",signal:o,headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer"+t.t}});return await r.json()}catch(e){console.log(e)}},l=async(e,t,o)=>{try{let r=await fetch("/api/users/"+e.userId,{method:"PUT",headers:{Accept:"application/json",Authorization:"Bearer "+t.t},body:o});return await r.json()}catch(e){console.log(e)}},s=async(e,t)=>{try{let o=await fetch("/api/users/"+e.userId,{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+t.t}});return await o.json()}catch(e){console.log(e)}},d=async(e,t,o)=>{try{let r=await fetch("/api/users/follow",{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+t.t},body:JSON.stringify({userId:e.userId,followId:o})});return await r.json()}catch(e){console.log(e)}},c=async(e,t,o)=>{try{let r=await fetch("/api/users/discover/"+e.userId,{method:"GET",signal:o,headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+t.t}});return await r.json()}catch(e){console.log(e)}};var p,u;(p="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(p.register(a,"create","/home/prithvi/Desktop/Socialmedia-app/client/user/api-user.js"),p.register(n,"list","/home/prithvi/Desktop/Socialmedia-app/client/user/api-user.js"),p.register(i,"read","/home/prithvi/Desktop/Socialmedia-app/client/user/api-user.js"),p.register(l,"update","/home/prithvi/Desktop/Socialmedia-app/client/user/api-user.js"),p.register(s,"remove","/home/prithvi/Desktop/Socialmedia-app/client/user/api-user.js"),p.register(d,"follow","/home/prithvi/Desktop/Socialmedia-app/client/user/api-user.js"),p.register((async(e,t,o)=>{try{let r=await fetch("/api/users/unfollow",{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+t.t},body:JSON.stringify({userId:e.userId,unfollowId:o})});return await r.json()}catch(e){console.log(e)}}),"unfollow","/home/prithvi/Desktop/Socialmedia-app/client/user/api-user.js"),p.register(c,"discover","/home/prithvi/Desktop/Socialmedia-app/client/user/api-user.js")),(u="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&u(e)},8237:(e,t,o)=>{"use strict";var r;o.d(t,{Z:()=>i}),e=o.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e),"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const a={env:"production",port:process.env.PORT||3e3,jwtSecret:process.env.JWT_SECRET||"S3cr3tk3y",mongoUri:process.env.MONGODB_URI||process.env.MONGO_HOST||"mongodb://"+(process.env.IP||"localhost")+":"+(process.env.MONGO_PORT||"27017")+"/socializeData"},n=a,i=n;var l,s;(l="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(l.register(a,"config","/home/prithvi/Desktop/Socialmedia-app/config/config.js"),l.register(n,"default","/home/prithvi/Desktop/Socialmedia-app/config/config.js")),(s="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&s(e)},949:(e,t,o)=>{"use strict";o.d(t,{Z:()=>h});var r=o(9630);const a=require("jsonwebtoken");var n=o.n(a);const i=require("express-jwt");var l,s=o.n(i),d=o(8237);e=o.hmd(e),(l="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&l(e),"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const c=async(e,t)=>{try{let o=await r.Z.findOne({email:e.body.email});if(!o)return[t.status("401").json({error:"User not found"}),t.redirect("/signin")];if(!o.authenticate(e.body.password))return t.status("401").send({error:"Email and passwords don't match."});const a=n().sign({_id:o._id},d.Z.jwtSecret);return t.cookie("t",a,{expire:new Date+9999}),t.json({token:a,user:{_id:o._id,name:o.name,email:o.email}})}catch(e){return console.log(e),t.status("401").json({error:"Could not sign in ! :("})}},p=(e,t)=>(t.clearCookie("t"),t.status("200").json({message:"signed out"})),u=s()({secret:d.Z.jwtSecret,userProperty:"auth",algorithms:["HS256"]}),m=(e,t,o)=>{if(!e.profile||!e.auth||e.profile._id!=e.auth._id)return t.status("403").json({error:"User isn't authorized !"});o()},f={signin:c,signout:p,requireSignin:u,hasAuthorization:m},h=f;var g,v;(g="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(g.register(c,"signin","/home/prithvi/Desktop/Socialmedia-app/server/controllers/auth.controller.js"),g.register(p,"signout","/home/prithvi/Desktop/Socialmedia-app/server/controllers/auth.controller.js"),g.register(u,"requireSignin","/home/prithvi/Desktop/Socialmedia-app/server/controllers/auth.controller.js"),g.register(m,"hasAuthorization","/home/prithvi/Desktop/Socialmedia-app/server/controllers/auth.controller.js"),g.register(f,"default","/home/prithvi/Desktop/Socialmedia-app/server/controllers/auth.controller.js")),(v="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&v(e)},1513:(e,t,o)=>{"use strict";o.d(t,{Z:()=>G});var r,a=o(5804),n=o(9022),i=o(8928),l=o.n(i),s=o(5747),d=o.n(s);e=o.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e),"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const c=(e,t,o)=>{let r=new(l().IncomingForm);r.keepExtensions=!0,r.parse(e,(async(o,r,i)=>{if(o)return t.status(400).json({error:"Image could not be uploaded"});let l=new a.Z(r);l.postedBy=e.profile,i.photo&&(l.photo.data=d().readFileSync(i.photo.path),l.photo.contentType=i.photo.type);try{let e=await l.save();t.json(e)}catch(o){return t.status(400).json({error:n.Z.getErrorMessage(o)})}console.log(o)}))},p=async(e,t,o,r)=>{try{let n=await a.Z.findById(r).populate("postedBy","_id.name").exec();if(!n)return t.status(404).json({error:"Post not found"});e.post=n,o()}catch(e){return t.status(400).json({error:"Couldn't retrieve the user post"})}},u=async(e,t)=>{try{let o=await a.Z.find({postedBy:e.profile._id}).populate("comments.postedBy","_id name").populate("postedBy","_id name").sort("-created").exec();t.json(o)}catch(e){return t.status(400).json({error:n.Z.getErrorMessage(e)})}},m=async(e,t)=>{e.profile.following.push(e.profile._id);try{let o=await a.Z.find({postedBy:{$in:e.profile.following}}).populate("comments.postedBy","_id name").populate("postedBy","_id name").sort("-created").exec();t.json(o)}catch(e){return t.status(400).json({error:n.Z.getErrorMessage(e)})}},f=async(e,t)=>{let o=e.post;try{let e=await o.remove();t.json(e)}catch(e){return t.status(400).json({error:n.Z.getErrorMessage(e)})}},h=(e,t,o)=>(t.set("Content-Type",e.post.photo.contentType),t.send(e.post.photo.data)),g=async(e,t)=>{try{let o=await a.Z.findByIdAndUpdate(e.body.postId,{$push:{likes:e.body.userId}},{new:!0});t.json(o)}catch(e){return t.status(400).json({error:n.Z.getErrorMessage(e)})}},v=async(e,t)=>{try{let o=await a.Z.findByIdAndUpdate(e.body.postId,{$pull:{likes:e.body.userId}},{new:!0});t.json(o)}catch(e){return t.status(400).json({error:n.Z.getErrorMessage(e)})}},y=async(e,t)=>{let o=e.body.comment;o.postedBy=e.body.userId;try{let r=await a.Z.findByIdAndUpdate(e.body.postId,{$push:{comments:o}},{new:!0}).populate("comments.postedBy","_id name").populate("postedBy","_id name").exec();t.json(r)}catch(e){return t.status(400).json({error:n.Z.getErrorMessage(e)})}},b=async(e,t)=>{let o=e.body.comment;try{let r=await a.Z.findByIdAndUpdate(e.body.postId,{$pull:{comments:{_id:o._id}}},{new:!0}).populate("comments.postedBy","_id name").populate("postedBy","_id name").exec();t.json(r)}catch(e){return t.status(400).json({error:n.Z.getErrorMessage(e)})}},L=(e,t,o)=>{if(!e.post||!e.auth||e.post.postedBy._id!=e.auth._id)return t.status("403").json({error:"User is not authorized"});o()},H={listByUser:u,listNewsFeed:m,create:c,postById:p,remove:f,photo:h,like:g,unlike:v,comment:y,uncomment:b,isPoster:L},G=H;var E,w;(E="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(E.register(c,"create","/home/prithvi/Desktop/Socialmedia-app/server/controllers/post.controller.js"),E.register(p,"postById","/home/prithvi/Desktop/Socialmedia-app/server/controllers/post.controller.js"),E.register(u,"listByUser","/home/prithvi/Desktop/Socialmedia-app/server/controllers/post.controller.js"),E.register(m,"listNewsFeed","/home/prithvi/Desktop/Socialmedia-app/server/controllers/post.controller.js"),E.register(f,"remove","/home/prithvi/Desktop/Socialmedia-app/server/controllers/post.controller.js"),E.register(h,"photo","/home/prithvi/Desktop/Socialmedia-app/server/controllers/post.controller.js"),E.register(g,"like","/home/prithvi/Desktop/Socialmedia-app/server/controllers/post.controller.js"),E.register(v,"unlike","/home/prithvi/Desktop/Socialmedia-app/server/controllers/post.controller.js"),E.register(y,"comment","/home/prithvi/Desktop/Socialmedia-app/server/controllers/post.controller.js"),E.register(b,"uncomment","/home/prithvi/Desktop/Socialmedia-app/server/controllers/post.controller.js"),E.register(L,"isPoster","/home/prithvi/Desktop/Socialmedia-app/server/controllers/post.controller.js"),E.register(H,"default","/home/prithvi/Desktop/Socialmedia-app/server/controllers/post.controller.js")),(w="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&w(e)},4639:(e,t,o)=>{"use strict";o.d(t,{Z:()=>k});var r=o(9630);const a=require("lodash/extend");var n=o.n(a),i=o(9022),l=o(8928),s=o.n(l),d=o(5747),c=o.n(d);const p=o.p+"1c6f15cc0f42be568fbc7e8f21fbd23f.jpg";var u;e=o.hmd(e),(u="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&u(e),"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const m=async(e,t)=>{const o=new r.Z(e.body);try{return await o.save(),t.status(200).json({message:"Successfully signed up."})}catch(e){return t.status(400).json({error:i.Z.getErrorMessage(e)})}},f=async(e,t,o,a)=>{try{let n=await r.Z.findById(a).populate("following","_id name").populate("followers","_id name").exec();if(!n)return t.status("400").json({error:"User not found"});e.profile=n,o()}catch(e){return t.status("400").json({error:"Couldn't retrieve the user"})}},h=(e,t)=>(e.profile.hashed_password=void 0,e.profile.salt=void 0,t.json(e.profile)),g=async(e,t)=>{try{let e=await r.Z.find().select("name email updated created");t.json(e)}catch(e){return t.status(400).json({error:i.Z.getErrorMessage(e)})}},v=async(e,t)=>{let o=new(s().IncomingForm);o.keepExtensions=!0,o.parse(e,(async(o,r,a)=>{if(error)return t.status(400).json({error:"Photo could not be uploaded."});let l=e.profile;l=n()(l,r),l.updated=Date.now(),a.photo&&(l.photo.data=c().readFileSync(a.photo.path),l.photo.contentType=a.photo.type);try{await l.save(),l.hashed_password=void 0,l.salt=void 0,t.json(l)}catch(e){return t.status(400).json({error:i.Z.getErrorMessage(e)})}}))},y=async(e,t)=>{try{e.profile;let o=await r.Z.remove();o.hashed_password=void 0,o.salt=void 0,t.json(o)}catch(e){return t.status(400).json({error:i.Z.getErrorMessage(e)})}},b=(e,t,o)=>{if(e.profile.photo.data)return t.set("Content-Type",e.profile.photo.contentType),t.send(e.profile.photo.data);o()},L=(e,t)=>t.sendFile(process.cwd()+p),H=async(e,t,o)=>{try{await r.Z.findByIdAndUpdate(e.body.userId,{$push:{following:e.body.followId}}),o()}catch(e){return t.status(400).json({error:i.Z.getErrorMessage(e)})}},G=async(e,t)=>{try{let o=await r.Z.findByIdAndUpdate(e.body.followId,{$push:{followers:e.body.userId}},{new:!0}).populate("following","_id name").populate("followers","_id name").exec();o.hashed_password=void 0,o.salt=void 0,t.json(o)}catch(e){return t.status(400).json({error:i.Z.getErrorMessage(e)})}},E=async(e,t,o)=>{try{await r.Z.findByIdAndUpdate(e.body.userId,{$pull:{following:e.body.unFollowId}}),o()}catch(e){return t.status(400).json({error:i.Z.getErrorMessage(e)})}},w=async(e,t)=>{try{let o=await r.Z.findByIdAndUpdate(e.body.unFollowId,{$pull:{followers:e.body.userId}},{new:!0}).populate("following","_id name").populate("followers","_id name").exec();o.hashed_password=void 0,o.salt=void 0,t.json(o)}catch(e){return t.status(404).json({error:i.Z.getErrorMessage(e)})}},S=async(e,t)=>{let o=e.profile.following;o.push(e.profile._id);try{let e=await r.Z.find({_id:{$nin:o}}).select("name");t.json(e)}catch(e){return t.status(400).json({error:i.Z.getErrorMessage(e)})}},j={create:m,userById:f,read:h,list:g,remove:y,update:v,photo:b,defaultPhoto:L,addFollowing:H,addFollower:G,removeFollowing:E,removeFollower:w,discover:S},k=j;var x,Z;(x="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(x.register(m,"create","/home/prithvi/Desktop/Socialmedia-app/server/controllers/user.controller.js"),x.register(f,"userById","/home/prithvi/Desktop/Socialmedia-app/server/controllers/user.controller.js"),x.register(h,"read","/home/prithvi/Desktop/Socialmedia-app/server/controllers/user.controller.js"),x.register(g,"list","/home/prithvi/Desktop/Socialmedia-app/server/controllers/user.controller.js"),x.register(v,"update","/home/prithvi/Desktop/Socialmedia-app/server/controllers/user.controller.js"),x.register(y,"remove","/home/prithvi/Desktop/Socialmedia-app/server/controllers/user.controller.js"),x.register(b,"photo","/home/prithvi/Desktop/Socialmedia-app/server/controllers/user.controller.js"),x.register(L,"defaultPhoto","/home/prithvi/Desktop/Socialmedia-app/server/controllers/user.controller.js"),x.register(H,"addFollowing","/home/prithvi/Desktop/Socialmedia-app/server/controllers/user.controller.js"),x.register(G,"addFollower","/home/prithvi/Desktop/Socialmedia-app/server/controllers/user.controller.js"),x.register(E,"removeFollowing","/home/prithvi/Desktop/Socialmedia-app/server/controllers/user.controller.js"),x.register(w,"removeFollower","/home/prithvi/Desktop/Socialmedia-app/server/controllers/user.controller.js"),x.register(S,"discover","/home/prithvi/Desktop/Socialmedia-app/server/controllers/user.controller.js"),x.register(j,"default","/home/prithvi/Desktop/Socialmedia-app/server/controllers/user.controller.js")),(Z="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&Z(e)},7579:(e,t,o)=>{"use strict";o.d(t,{Z:()=>h});var r=o(8237),a=o(4078),n=o.n(a);const i=require("webpack-dev-middleware");var l=o.n(i);const s=require("webpack-hot-middleware");var d,c=o.n(s),p=o(9083),u=o.n(p);e=o.hmd(e),(d="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&d(e),"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const m=e=>{if("development"==r.Z.env){const t=n()(u()),o=l()(t,{publicPath:u().output.publicPath});e.use(o),e.use(c()(t))}},f={compile:m},h=f;var g,v;(g="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(g.register(m,"compile","/home/prithvi/Desktop/Socialmedia-app/server/devBundle.js"),g.register(f,"default","/home/prithvi/Desktop/Socialmedia-app/server/devBundle.js")),(v="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&v(e)},642:(e,t,o)=>{"use strict";o.d(t,{Z:()=>T});var r=o(2127),a=o.n(r),n=o(5622),i=o.n(n);const l=require("cookie-parser");var s=o.n(l);const d=require("compression");var c=o.n(d);const p=require("cors");var u=o.n(p);const m=require("helmet");var f=o.n(m),h=o(2281),g=o(9816),v=o(6504),y=o(2053),b=o(9297),L=o.n(b);const H=require("react-dom/server");var G=o.n(H),E=o(5551),w=o(2146);const S=require("@material-ui/styles");var j,k=o(1182),x=o(7579);e=o.hmd(e),(j="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&j(e),"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const Z=process.cwd(),D=a()();x.Z.compile(D),D.use(a().json()),D.use(a().urlencoded({extended:!0})),D.use(s()()),D.use(c()()),D.use(f()()),D.use(u()()),D.use("/dist",a().static(i().join(Z,"dist"))),D.use("/",g.Z),D.use("/",v.Z),D.use("/",y.Z),D.get("*",((e,t)=>{const o=new S.ServerStyleSheets,r={},a=G().renderToString(o.collect(L().createElement(w.StaticRouter,{location:e.url,context:r},L().createElement(S.ThemeProvider,{theme:k.Z},L().createElement(E.Z,null)))));if(r.url)return t.redirect(303,r.url);const n=o.toString();t.status(200).send((0,h.Z)({markup:a,css:n}))})),D.use(((e,t,o,r)=>{"UnauthorizedError"===e.name?o.status(401).json({error:e.name+": "+e.message}):e&&(o.status(400).json({error:e.name+": "+e.message}),console.log(e))}));const I=D,T=I;var M,N;(M="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(M.register(Z,"CURRENT_WORKING_DIR","/home/prithvi/Desktop/Socialmedia-app/server/express.js"),M.register(D,"app","/home/prithvi/Desktop/Socialmedia-app/server/express.js"),M.register(I,"default","/home/prithvi/Desktop/Socialmedia-app/server/express.js")),(N="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&N(e)},9022:(e,t,o)=>{"use strict";var r;o.d(t,{Z:()=>l}),e=o.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e),"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const a=e=>{let t;try{let o=e.message.substring(e.message.lastIndexOf(".$")+2,e.message.lastIndexOf("_1"));t=o.charAt(0).toUpperCase()+o.slice(1)+"already exists !"}catch(e){t="Unique field already exists !"}return t},n=e=>{let t="";if(e.code)switch(e.code){case 11e3:case 11001:t=a(e);break;default:t="Something went wrong !"}else for(let o in e.errors)e.errors[o].message&&(t=e.errors[o].message);return t},i={getErrorMessage:n},l=i;var s,d;(s="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(s.register(a,"getUniqueErrorMessage","/home/prithvi/Desktop/Socialmedia-app/server/helpers/dbErrorHandler.js"),s.register(n,"getErrorMessage","/home/prithvi/Desktop/Socialmedia-app/server/helpers/dbErrorHandler.js"),s.register(i,"default","/home/prithvi/Desktop/Socialmedia-app/server/helpers/dbErrorHandler.js")),(d="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&d(e)},5804:(e,t,o)=>{"use strict";o.d(t,{Z:()=>s});var r,a=o(5619),n=o.n(a);e=o.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e),"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const i=new(n().Schema)({text:{type:String,required:"Text is required"},photo:{data:Buffer,contentType:String},postedBy:{type:n().Schema.ObjectId,ref:"User"},created:{type:Date,default:Date.now()},likes:[{type:n().Schema.ObjectId,ref:"User"}],comments:[{text:String,created:{type:Date,default:Date.now},postedBy:{type:n().Schema.ObjectId,ref:"User"}}]}),l=n().model("Post",i),s=l;var d,c;(d="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(d.register(i,"PostSchema","/home/prithvi/Desktop/Socialmedia-app/server/models/post.model.js"),d.register(l,"default","/home/prithvi/Desktop/Socialmedia-app/server/models/post.model.js")),(c="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&c(e)},9630:(e,t,o)=>{"use strict";o.d(t,{Z:()=>c});var r=o(5619),a=o.n(r);const n=require("crypto");var i,l=o.n(n);e=o.hmd(e),(i="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&i(e),"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const s=new(a().Schema)({name:{type:String,trim:!0,required:"Name is required"},email:{type:String,trim:!0,unique:"Email already exists",match:[/.+\@.+\..+/,"Please fill a valid email address"],required:"Email is required !"},hashed_password:{type:String,required:"Password is required !"},salt:String,updated:Date,created:{type:Date,default:Date.now},about:{type:String,trim:!0},photo:{data:Buffer,contentType:String},following:[{type:a().Schema.ObjectId,ref:"User"}],followers:[{type:a().Schema.ObjectId,ref:"User"}]});s.virtual("password").set((function(e){this._password=e,this.salt=this.makeSalt(),this.hashed_password=this.encryptPassword(e)})).get((function(){return this._password})),s.path("hashed_password").validate((function(e){this._password&&this._password.length<6&&this.invalidate("password","Password must be atleast 6 characters."),this.isNew&&!this._password&&this.invalidate("password","Password is required.")}),null),s.methods={authenticate:function(e){return this.encryptPassword(e)===this.hashed_password},encryptPassword:function(e){if(!e)return"";try{return l().createHmac("sha1",this.salt).update(e).digest("hex")}catch(e){return""}},makeSalt:function(){return Math.round((new Date).valueOf()*Math.random())+""}};const d=a().model("User",s),c=d;var p,u;(p="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(p.register(s,"UserSchema","/home/prithvi/Desktop/Socialmedia-app/server/models/user.model.js"),p.register(d,"default","/home/prithvi/Desktop/Socialmedia-app/server/models/user.model.js")),(u="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&u(e)},6504:(e,t,o)=>{"use strict";o.d(t,{Z:()=>d});var r,a=o(2127),n=o.n(a),i=o(949);e=o.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e),"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const l=n().Router();l.route("/auth/signin").post(i.Z.signin),l.route("/auth/signout").get(i.Z.signout);const s=l,d=s;var c,p;(c="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(c.register(l,"router","/home/prithvi/Desktop/Socialmedia-app/server/routes/auth.routes.js"),c.register(s,"default","/home/prithvi/Desktop/Socialmedia-app/server/routes/auth.routes.js")),(p="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&p(e)},2053:(e,t,o)=>{"use strict";o.d(t,{Z:()=>p});var r,a=o(2127),n=o.n(a),i=o(4639),l=o(949),s=o(1513);e=o.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e),"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const d=n().Router();d.route("/api/posts/new:userId").post(l.Z.requireSignin,s.Z.create),d.route("/api/posts/photo/:postId").get(s.Z.photo),d.route("/api/posts/by/:userId").get(l.Z.requireSignin,s.Z.listByUser),d.route("/api/posts/feed/:userId").get(l.Z.requireSignin,s.Z.listNewsFeed),d.route("/api/posts/like").put(l.Z.requireSignin,s.Z.like),d.route("/api/posts/unlike").put(l.Z.requireSignin,s.Z.unlike),d.route("/api/posts/comment").put(l.Z.requireSignin,s.Z.comment),d.route("/api/posts/uncomment").put(l.Z.requireSignin,s.Z.uncomment),d.route("/api/posts/:postId").delete(l.Z.requireSignin,s.Z.isPoster,s.Z.remove),d.param("userId",i.Z.userById),d.param("postId",s.Z.postById);const c=d,p=c;var u,m;(u="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(u.register(d,"router","/home/prithvi/Desktop/Socialmedia-app/server/routes/post.routes.js"),u.register(c,"default","/home/prithvi/Desktop/Socialmedia-app/server/routes/post.routes.js")),(m="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&m(e)},9816:(e,t,o)=>{"use strict";o.d(t,{Z:()=>c});var r,a=o(2127),n=o.n(a),i=o(4639),l=o(949);e=o.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e),"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const s=n().Router();s.route("/api/users").get(i.Z.list).post(i.Z.create),s.route("/api/users/photo/:userId").get(i.Z.photo,i.Z.defaultPhoto),s.route("/api/users/defaultphoto").get(i.Z.defaultPhoto),s.route("/api/users/follow").put(l.Z.requireSignin,l.Z.addFollowing,l.Z.addFollower),s.route("/api/users/unfollow").put(l.Z.requireSignin,l.Z.removeFollowing,l.Z.removeFollower),s.route("/api/users/discover/:userId").get(l.Z.requireSignin,i.Z.discover),s.route("/api/users/:userId").get(l.Z.requireSignin,i.Z.read).put(l.Z.requireSignin,l.Z.hasAuthorization,i.Z.update).delete(l.Z.requireSignin,l.Z.hasAuthorization,i.Z.remove),s.param("userId",i.Z.userById);const d=s,c=d;var p,u;(p="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(p.register(s,"router","/home/prithvi/Desktop/Socialmedia-app/server/routes/user.routes.js"),p.register(d,"default","/home/prithvi/Desktop/Socialmedia-app/server/routes/user.routes.js")),(u="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&u(e)},2281:(e,t,o)=>{"use strict";var r;o.d(t,{Z:()=>n}),e=o.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e),"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const a=({markup:e,css:t})=>`\n        <!DOCYPE html>\n        <html lang="en">\n            <head>\n                <title>Socialize</title>\n                <link rel="preconnect" href="https://fonts.gstatic.com">\n                <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300&display=swap" \n                rel="stylesheet">\n                <link href="https://fonts.googleapis.com/icon?family=Material+Icons"\n                rel="stylesheet">\n                <style>\n                    a {\n                        text-decoration: none;\n                        color: #061d95;\n                    }\n                </style>\n            </head>\n            <body>\n                <div id="root">${e}</div>\n                <style id="jss-server-side>${t}</style>\n                <script type="text/javascript" src="/dist/bundle.js"><\/script>\n            </body>\n        </html>\n    `,n=a;var i,l;(i="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&i.register(a,"default","/home/prithvi/Desktop/Socialmedia-app/template.js"),(l="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&l(e)},9083:(e,t,o)=>{var r;e=o.nmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e),"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const a=o(5622),n=o(4078),i=process.cwd(),l={name:"browser",mode:"development",devtool:"eval-source-map",entry:["webpack-hot-middleware/client?reload=true",a.join(i,"client/main.js")],output:{path:a.join(i,"/dist"),filename:"bundle.js",publicPath:"/dist/"},module:{rules:[{test:/\.jsx?$/,exclude:/node_modules/,use:["babel-loader"]},{test:/\.(ttf|eot|svg|gif|jpg|png)(\?[\s\S]+)?$/,use:"file-loader"}]},plugins:[new n.HotModuleReplacementPlugin,new n.NoEmitOnErrorsPlugin],resolve:{alias:{"react-dom":"@hot-loader/react-dom"}}};var s,d;e.exports=l,(s="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(s.register(i,"CURRENT_WORKING_DIR","/home/prithvi/Desktop/Socialmedia-app/webpack.config.client.js"),s.register(l,"config","/home/prithvi/Desktop/Socialmedia-app/webpack.config.client.js")),(d="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&d(e)},2905:e=>{"use strict";e.exports=require("@material-ui/core/AppBar")},9558:e=>{"use strict";e.exports=require("@material-ui/core/Avatar")},9767:e=>{"use strict";e.exports=require("@material-ui/core/Button")},9575:e=>{"use strict";e.exports=require("@material-ui/core/Card")},3162:e=>{"use strict";e.exports=require("@material-ui/core/CardActions")},3866:e=>{"use strict";e.exports=require("@material-ui/core/CardContent")},7486:e=>{"use strict";e.exports=require("@material-ui/core/CardHeader")},7693:e=>{"use strict";e.exports=require("@material-ui/core/Dialog")},1279:e=>{"use strict";e.exports=require("@material-ui/core/DialogActions")},7513:e=>{"use strict";e.exports=require("@material-ui/core/DialogContent")},9794:e=>{"use strict";e.exports=require("@material-ui/core/DialogContentText")},5267:e=>{"use strict";e.exports=require("@material-ui/core/DialogTitle")},5207:e=>{"use strict";e.exports=require("@material-ui/core/Divider")},1310:e=>{"use strict";e.exports=require("@material-ui/core/Icon")},1550:e=>{"use strict";e.exports=require("@material-ui/core/IconButton")},9908:e=>{"use strict";e.exports=require("@material-ui/core/List")},8305:e=>{"use strict";e.exports=require("@material-ui/core/ListItem")},3673:e=>{"use strict";e.exports=require("@material-ui/core/ListItemAvatar")},1667:e=>{"use strict";e.exports=require("@material-ui/core/ListItemSecondaryAction")},2339:e=>{"use strict";e.exports=require("@material-ui/core/ListItemText")},2959:e=>{"use strict";e.exports=require("@material-ui/core/Paper")},2879:e=>{"use strict";e.exports=require("@material-ui/core/TextField")},4740:e=>{"use strict";e.exports=require("@material-ui/core/Typography")},8604:e=>{"use strict";e.exports=require("@material-ui/core/styles")},9414:e=>{"use strict";e.exports=require("@material-ui/icons/Delete")},2127:e=>{"use strict";e.exports=require("express")},8928:e=>{"use strict";e.exports=require("formidable")},5747:e=>{"use strict";e.exports=require("fs")},5619:e=>{"use strict";e.exports=require("mongoose")},5622:e=>{"use strict";e.exports=require("path")},4229:e=>{"use strict";e.exports=require("prop-types")},9297:e=>{"use strict";e.exports=require("react")},2146:e=>{"use strict";e.exports=require("react-router-dom")},4078:e=>{"use strict";e.exports=require("webpack")}},t={};function o(r){var a=t[r];if(void 0!==a)return a.exports;var n=t[r]={id:r,loaded:!1,exports:{}};return e[r](n,n.exports,o),n.loaded=!0,n.exports}o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o.hmd=e=>((e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e),o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),o.p="/dist/";var r={};(()=>{"use strict";o.r(r);var e=o(8237),t=o(642),a=o(5619),n=o.n(a);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature,n().Promise=global.Promise,n().connect(e.Z.mongoUri,{useNewUrlParser:!0,useCreateIndex:!0,useUnifiedTopology:!0}),n().connection.on("error",(()=>{throw new Error(`unable to connect to database: ${e.Z.mongoUri}`)})),t.Z.listen(e.Z.port,(t=>{t&&console.log(t),console.log("Server started successfully and listening on port "+e.Z.port+".")}))})(),module.exports=r})();