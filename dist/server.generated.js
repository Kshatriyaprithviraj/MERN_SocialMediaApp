(()=>{var e={5551:(e,t,o)=>{"use strict";o.d(t,{Z:()=>v});var r,a=o(9297),s=o.n(a),n=o(2146),i=o(1615),l=o(2512),c=o(6967),d=o(7666),u=o(9162),p=o(1027),m=o(688),f=o(1761);e=o.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e),"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const h=()=>s().createElement("div",null,s().createElement(f.Z,null),s().createElement(n.Switch,null,s().createElement(n.Route,{exact:!0,path:"/",component:i.Z}),s().createElement(n.Route,{path:"/users",component:l.Z}),s().createElement(n.Route,{path:"/signup",component:c.Z}),s().createElement(n.Route,{path:"/signin",component:d.Z}),s().createElement(m.Z,{path:"/user/edit/:userId",component:u.Z}),s().createElement(n.Route,{path:"/user/:userId",component:p.Z}))),g=h,v=g;var y,b;(y="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(y.register(h,"MainRouter","/home/prithvi/Desktop/Projects/socialize/client/MainRouter.js"),y.register(g,"default","/home/prithvi/Desktop/Projects/socialize/client/MainRouter.js")),(b="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&b(e)},688:(e,t,o)=>{"use strict";o.d(t,{Z:()=>u}),require("lodash");var r,a=o(9297),s=o.n(a),n=o(2146),i=o(3288);function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r])}return e}).apply(this,arguments)}e=o.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e),"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const c=({component:e,...t})=>s().createElement(n.Route,l({},t,{render:t=>i.Z.isAuthenticated()?s().createElement(e,t):s().createElement(n.Redirect,{to:{pathname:"/signin",state:{from:t.location}}})})),d=c,u=d;var p,m;(p="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(p.register(c,"PrivateRoute","/home/prithvi/Desktop/Projects/socialize/client/auth/PrivateRoute.js"),p.register(d,"default","/home/prithvi/Desktop/Projects/socialize/client/auth/PrivateRoute.js")),(m="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&m(e)},7666:(e,t,o)=>{"use strict";o.d(t,{Z:()=>k});var r,a=o(9297),s=o.n(a),n=o(9575),i=o.n(n),l=o(3162),c=o.n(l),d=o(3866),u=o.n(d),p=o(9767),m=o.n(p),f=o(2879),h=o.n(f),g=o(4740),v=o.n(g),y=o(1310),b=o.n(y),j=o(8604),L=o(3288),H=o(2146),G=o(2082);e=o.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e);var E="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e};const w=(0,j.makeStyles)((e=>({card:{maxWidth:600,margin:"auto",textAlign:"center",marginTop:e.spacing(5),paddingBottom:e.spacing(2)},error:{verticalAlign:"middle"},title:{marginTop:e.spacing(2),color:e.palette.openTitle},textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1),width:300},submit:{margin:"auto",marginBottom:e.spacing(2)}})));function k(e){const t=w(),[o,r]=(0,a.useState)({email:"",password:"",error:"",redirectToReferrer:!1}),n=e=>t=>{r({...o,[e]:t.target.value})},{from:l}=e.location.state||{from:{pathname:"/"}},{redirectToReferrer:d}=o;return d?s().createElement(H.Redirect,{to:l}):s().createElement(i(),{className:t.card},s().createElement(u(),null,s().createElement(v(),{variant:"h6",className:t.title},"Sign In"),s().createElement(h(),{id:"email",type:"email",label:"Email",className:t.textField,value:o.email,onChange:n("email"),margin:"normal"}),s().createElement("br",null),s().createElement(h(),{id:"password",type:"password",label:"Password",className:t.textField,value:o.password,onChange:n("password"),margin:"normal"}),s().createElement("br",null)," ",o.error&&s().createElement(v(),{component:"p",color:"error"},s().createElement(b(),{color:"error",className:t.error},"error"),o.error)),s().createElement(c(),null,s().createElement(m(),{color:"primary",variant:"contained",onClick:()=>{const e={email:o.email||void 0,password:o.password||void 0};(0,G.x)(e).then((e=>{e.error?r({...o,error:e.error}):L.Z.authenticate(e,(()=>{r({...o,error:"",redirectToReferrer:!0})}))}))},className:t.submit},"Submit")))}var P,S;E(k,"useStyles{classes}\nuseState{[values, setValues]({\n    email: '',\n    password: '',\n    error: '',\n    redirectToReferrer: false,\n  })}",(()=>[w])),(P="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(P.register(w,"useStyles","/home/prithvi/Desktop/Projects/socialize/client/auth/Signin.js"),P.register(k,"Signin","/home/prithvi/Desktop/Projects/socialize/client/auth/Signin.js")),(S="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&S(e)},2082:(e,t,o)=>{"use strict";var r;o.d(t,{x:()=>a,u:()=>s}),e=o.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e),"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const a=async e=>{try{let t=await fetch("/auth/signin",{method:"POST",headers:{Accept:"application/json","Content-type":"application/json"},credentials:"include",body:JSON.stringify(e)});return await t.json()}catch(e){console.log(e)}},s=async()=>{try{let e=await fetch("/auth/signout",{method:"GET"});return await e.json()}catch(e){console.log(e)}};var n,i;(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(n.register(a,"signin","/home/prithvi/Desktop/Projects/socialize/client/auth/api-auth.js"),n.register(s,"signout","/home/prithvi/Desktop/Projects/socialize/client/auth/api-auth.js")),(i="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&i(e)},3288:(e,t,o)=>{"use strict";o.d(t,{Z:()=>i});var r,a=o(2082);e=o.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e),"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const s={isAuthenticated:()=>"undefined"!=typeof window&&!!sessionStorage.getItem("jwt")&&JSON.parse(sessionStorage.getItem("jwt")),authenticate(e,t){"undefined"!=typeof window&&sessionStorage.setItem("jwt",JSON.stringify(e)),t()},clearJWT(e){"undefined"!=typeof window&&sessionStorage.removeItem("jwt"),e(),(0,a.u)().then((e=>{document.cookie="t=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;"}))}},n=s,i=n;var l,c;(l="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(l.register(s,"auth","/home/prithvi/Desktop/Projects/socialize/client/auth/auth-helper.js"),l.register(n,"default","/home/prithvi/Desktop/Projects/socialize/client/auth/auth-helper.js")),(c="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&c(e)},1615:(e,t,o)=>{"use strict";o.d(t,{Z:()=>H});var r=o(9297),a=o.n(r),s=o(8604),n=o(9575),i=o.n(n),l=o(3866),c=o.n(l);const d=require("@material-ui/core/CardMedia");var u=o.n(d),p=o(4740),m=o.n(p);const f=o.p+"d6847f2b3612d3ced55cfbb8408c9fb5.jpg",h=require("@material-ui/core");var g,v=o(3288),y=o(4926),b=o(5163);e=o.hmd(e),(g="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&g(e);var j="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e};const L=(0,s.makeStyles)((e=>({root:{flexGrow:1,margin:30},card:{maxWidth:600,margin:"auto",marginTop:e.spacing(5),marginBottom:e.spacing(5)},title:{padding:`${e.spacing(3)}px ${e.spacing(2.5)}px ${e.spacing(2)}px`,color:e.palette.openTitle},media:{minHeight:400},credit:{padding:10,textAlign:"right",backgroundColor:"#ededed",borderBottom:"1px solid #d0d0d0","& a":{color:"#3f4771"}}})));function H({history:e}){const t=L(),[o,s]=(0,r.useState)(initialState);return(0,r.useEffect)((()=>{s(v.Z.isAuthenticated());const t=e.listen((()=>{s(v.Z.isAuthenticated())}));return()=>{t()}}),[]),a().createElement("div",{className:t.root},!o&&a().createElement(h.Grid,{container:!0,spacing:8},a().createElement(h.Grid,{item:!0,xs:12},a().createElement(i(),{className:t.card},a().createElement(m(),{variant:"h6",className:t.title},"Home Page"),a().createElement(u(),{className:t.media,image:f,title:"Socialize"}),a().createElement(c(),null,a().createElement(m(),{variant:"body1",component:"p"},"Welcome to Socialize home page."))))),o&&a().createElement(h.Grid,{container:!0,spacing:8},a().createElement(h.Grid,{item:!0,xs:8,sm:7},a().createElement(b.Z,null)),a().createElement(h.Grid,{item:!0,xs:6,sm:5},a().createElement(y.Z,null))))}var G,E;j(H,"useStyles{classes}\nuseState{[defaultPage, setDefaultPage](initialState)}\nuseEffect{}",(()=>[L])),(G="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(G.register(L,"useStyles","/home/prithvi/Desktop/Projects/socialize/client/core/Home.js"),G.register(H,"Home","/home/prithvi/Desktop/Projects/socialize/client/core/Home.js")),(E="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&E(e)},1761:(e,t,o)=>{"use strict";o.d(t,{Z:()=>G});var r=o(9297),a=o.n(r),s=o(2905),n=o.n(s);const i=require("@material-ui/core/Toolbar");var l=o.n(i),c=o(4740),d=o.n(c),u=o(1550),p=o.n(u);const m=require("@material-ui/icons/Home");var f,h=o.n(m),g=o(9767),v=o.n(g),y=o(3288),b=o(2146);e=o.hmd(e),(f="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&f(e),"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const j=(e,t)=>e.location.path==t?{color:"#ff4081"}:{color:"#ffffff"},L=(0,b.withRouter)((({history:e})=>a().createElement(n(),{position:"static"},a().createElement(l(),null,a().createElement(d(),{variant:"h6",color:"inherit"},"MERN Social"),a().createElement(b.Link,{to:"/"},a().createElement(p(),{"aria-label":"Home",style:j(e,"/")},a().createElement(h(),null))),!y.Z.isAuthenticated()&&a().createElement("span",null,a().createElement(b.Link,{to:"/signup"},a().createElement(v(),{style:j(e,"/signup")},"Sign up")),a().createElement(b.Link,{to:"/signin"},a().createElement(v(),{style:j(e,"/signin")},"Sign In"))),y.Z.isAuthenticated()&&a().createElement("span",null,a().createElement(b.Link,{to:"/user/"+y.Z.isAuthenticated().user._id},a().createElement(v(),{style:j(e,"/user/"+y.Z.isAuthenticated().user._id)},"My Profile")),a().createElement(v(),{color:"inherit",onClick:()=>{y.Z.clearJWT((()=>e.push("/")))}},"Sign out")))))),H=L,G=H;var E,w;(E="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(E.register(j,"isActive","/home/prithvi/Desktop/Projects/socialize/client/core/Menu.js"),E.register(L,"Menu","/home/prithvi/Desktop/Projects/socialize/client/core/Menu.js"),E.register(H,"default","/home/prithvi/Desktop/Projects/socialize/client/core/Menu.js")),(w="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&w(e)},1130:(e,t,o)=>{"use strict";o.d(t,{Z:()=>H});var r,a=o(9297),s=o.n(a),n=o(3288),i=o(7486),l=o.n(i),c=o(2879),d=o.n(c),u=o(9558),p=o.n(u),m=o(1310),f=o.n(m),h=o(4229),g=o.n(h),v=o(8604),y=o(8918),b=o(2146);e=o.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e);var j="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e};const L=(0,v.makeStyles)((e=>({cardHeader:{paddingTop:e.spacing(1),paddingBottom:e.spacing(1)},smallAvatar:{width:25,height:25},commentField:{width:"96%"},commentText:{backgroundColor:"white",padding:e.spacing(1),margin:`2px ${e.spacing(2)}px 2px 2px`},commentDate:{display:"block",color:"gray",fontSize:"0.8em"},commentDelete:{fontSize:"1.6em",verticalAlign:"middle",cursor:"pointer"}})));function H(e){const t=L(),[o,r]=(0,a.useState)(""),i=n.Z.isAuthenticated(),c=o=>{return s().createElement("p",{className:t.commentText},s().createElement(b.Link,{to:"/user/"+o.postedBy._id},o.postedBy.name),s().createElement("br",null),o.text,s().createElement("span",{className:t.commentDate},new Date(o.created).toDateString()," |",n.Z.isAuthenticated().user._id===o.postedBy._id&&s().createElement(f(),{onClick:(r=o,t=>{(0,y.By)({userId:i.user._id},{t:i.token},e.postId,r).then((t=>{t.error?console.log(t.error):e.updateComments(t.comments)}))}),className:t.commentDelete},"delete")));var r};return s().createElement("div",null,s().createElement(l(),{avatar:s().createElement(p(),{className:t.smallAvatar,src:"/api/users/photo/"+n.Z.isAuthenticated().user._id}),title:s().createElement(d(),{onKeyDown:t=>{13==t.keyCode&&t.target.value&&(t.preventDefault(),(0,y.UI)({userId:i.user._id},{t:i.token},e.postId,{text:o}).then((t=>{t.error?console.log(t.error):(r(""),e.updateComments(t.comments))})))},multiline:!0,value:o,onChange:e=>{r(e.target.value)},placeholder:"Write something ...",className:t.commentField,margin:"normal"}),className:t.cardHeader}),e.comments.map(((e,o)=>s().createElement(l(),{avatar:s().createElement(p(),{className:t.smallAvatar,src:"/api/users/photo/"+e.postedBy._id}),title:c(e),className:t.cardHeader,key:o}))))}var G,E;j(H,"useStyles{classes}\nuseState{[text, setText]('')}",(()=>[L])),H.propTypes={postId:g().string.isRequired,comments:g().array.isRequired,updateComments:g().func.isRequired},(G="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(G.register(L,"useStyles","/home/prithvi/Desktop/Projects/socialize/client/post/Comment.js"),G.register(H,"Comments","/home/prithvi/Desktop/Projects/socialize/client/post/Comment.js")),(E="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&E(e)},9597:(e,t,o)=>{"use strict";o.d(t,{Z:()=>M});var r=o(9297),a=o.n(r),s=o(3288),n=o(9575),i=o.n(n),l=o(7486),c=o.n(l),d=o(3866),u=o.n(d),p=o(3162),m=o.n(p),f=o(9767),h=o.n(f),g=o(2879),v=o.n(g),y=o(4740),b=o.n(y),j=o(9558),L=o.n(j),H=o(1310),G=o.n(H),E=o(4229),w=o.n(E),k=o(8604),P=o(8918),S=o(1550),x=o.n(S);const Z=require("@material-ui/icons/PhotoCamera");var D,z=o.n(Z);e=o.hmd(e),(D="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&D(e);var I="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e};const T=(0,k.makeStyles)((e=>({root:{backgroundColor:"#efefef",padding:`${e.spacing(3)}px 0px 1px`},card:{maxWidth:600,margin:"auto",marginBottom:e.spacing(3),backgroundColor:"rgba(65, 150, 136, 0.09)",boxShadow:"none"},cardContent:{backgroundColor:"white",paddingTop:0,paddingBottom:0},cardHeader:{paddingTop:8,paddingBottom:8},photoButton:{height:30,marginBottom:5},input:{display:"none"},textField:{marginLeft:e.spacing(2),marginRight:e.spacing(2),width:"90%"},submit:{margin:e.spacing(2)},filename:{verticalAlign:"super"}})));function M(e){const t=T(),[o,n]=(0,r.useState)({text:"",photo:"",error:"",user:{}}),l=s.Z.isAuthenticated();(0,r.useEffect)((()=>{n({...o,user:s.Z.isAuthenticated().user})}),[]);const d=e=>t=>{const r="photo"===e?t.target.files[0]:t.target.value;n({...o,[e]:r})},p=o.user._id?"/api/users/photo/"+o.user._id:"/api/users/defaultphoto";return a().createElement("div",{className:t.root},a().createElement(i(),{className:t.card},a().createElement(c(),{avatar:a().createElement(L(),{src:p}),title:o.user.name,className:t.cardHeader}),a().createElement(u(),{className:t.cardContent},a().createElement(v(),{placeholder:"Share your thoughts ...",multiline:!0,rows:"3",value:o.text,onChange:d("text"),className:t.textField,margin:"normal"}),a().createElement("input",{accept:"image/*",onChange:d("photo"),className:t.input,id:"icon-button-file",type:"file"}),a().createElement("label",{htmlFor:"icon-button-file"},a().createElement(x(),{color:"secondary",className:t.photoButton,component:"span"},a().createElement(z(),null))),a().createElement("span",{className:t.filename},o.photo?o.photo.name:""),o.error&&a().createElement(b(),{component:"p",color:"error"},a().createElement(G(),{color:"error",className:t.error},"error"),o.error)),a().createElement(m(),null,a().createElement(h(),{color:"primary",variant:"contained",disabled:""===o.text,onClick:()=>{let t=new FormData;t.append("text",o.text),t.append("photo",o.photo),(0,P.Ue)({userId:l.user._id},{t:l.token},t).then((t=>{t.error?n({...o,error:t.error}):(n({...o,text:"",photo:""}),e.addUpdate(t))}))},className:t.submit},"POST"))))}var N,q;I(M,"useStyles{classes}\nuseState{[values, setValues]({\n    text: '',\n    photo: '',\n    error: '',\n    user: {},\n  })}\nuseEffect{}",(()=>[T])),M.propTypes={addUpdate:w().func.isRequired},(N="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(N.register(T,"useStyles","/home/prithvi/Desktop/Projects/socialize/client/post/NewPost.js"),N.register(M,"NewPost","/home/prithvi/Desktop/Projects/socialize/client/post/NewPost.js")),(q="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&q(e)},5163:(e,t,o)=>{"use strict";o.d(t,{Z:()=>b});var r,a=o(9297),s=o.n(a),n=o(8604),i=o(9575),l=o.n(i),c=o(4740),d=o.n(c),u=o(5207),p=o.n(u),m=o(3288),f=o(4326),h=o(8918),g=o(9597);e=o.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e);var v="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e};const y=(0,n.makeStyles)((e=>({card:{margin:"auto",paddingTop:0,paddingBottom:e.spacing(3)},title:{padding:`${e.spacing(3)}px ${e.spacing(2.5)}px ${e.spacing(2)}px`,color:e.palette.openTitle,fontSize:"1em"},media:{minHeight:330}})));function b(){const e=y(),[t,o]=(0,a.useState)([]),r=m.Z.isAuthenticated();return(0,a.useEffect)((()=>{const e=new AbortController,t=e.signal;return(0,h.rv)({userId:r.user._id},{t:r.token},t).then((e=>{e.error?console.log(e.error):o(e)})),function(){e.abort()}}),[]),s().createElement(l(),{className:e.card},s().createElement(d(),{type:"title",className:e.title},"Newsfeed"),s().createElement(p(),null),s().createElement(g.Z,{addUpdate:e=>{const r=[...t];r.unshift(e),o(r)}}),s().createElement(p(),null),s().createElement(f.Z,{removeUpdate:e=>{const r=[...t],a=r.indexOf(e);r.splice(a,1),o(r)},posts:t}))}var j,L;v(b,"useStyles{classes}\nuseState{[posts, setPosts]([])}\nuseEffect{}",(()=>[y])),(j="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(j.register(y,"useStyles","/home/prithvi/Desktop/Projects/socialize/client/post/Newsfeed.js"),j.register(b,"Newsfeed","/home/prithvi/Desktop/Projects/socialize/client/post/Newsfeed.js")),(L="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&L(e)},4942:(e,t,o)=>{"use strict";o.d(t,{Z:()=>A});var r=o(9297),a=o.n(r),s=o(3288),n=o(9575),i=o.n(n),l=o(7486),c=o.n(l),d=o(3866),u=o.n(d),p=o(3162),m=o.n(p),f=o(4740),h=o.n(f),g=o(9558),v=o.n(g),y=o(1550),b=o.n(y),j=o(9414),L=o.n(j);const H=require("@material-ui/icons/Favorite");var G=o.n(H);const E=require("@material-ui/icons/FavoriteBorder");var w=o.n(E);const k=require("@material-ui/icons/Comment");var P,S=o.n(k),x=o(5207),Z=o.n(x),D=o(4229),z=o.n(D),I=o(8604),T=o(2146),M=o(8918),N=o(1130);e=o.hmd(e),(P="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&P(e);var q="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e};const C=(0,I.makeStyles)((e=>({card:{maxWidth:600,margin:"auto",marginBottom:e.spacing(3),backgroundColor:"rgba(0, 0, 0, 0.06)"},cardContent:{backgroundColor:"white",padding:`${e.spacing(2)}px 0px`},cardHeader:{paddingTop:e.spacing(1),paddingBottom:e.spacing(1)},text:{margin:e.spacing(2)},photo:{textAlign:"center",backgroundColor:"#f2f5f4",padding:e.spacing(1)},media:{height:200},button:{margin:e.spacing(1)}})));function A(e){const t=C(),o=s.Z.isAuthenticated(),[n,l]=(0,r.useState)({like:(d=e.post.likes,-1!==d.indexOf(o.user._id)),likes:e.post.likes.length,comments:e.post.comments});var d;const p=()=>{(n.like?M.Yt:M.vL)({userId:o.user._id},{t:o.token},e.post._id).then((e=>{e.error?console.log(e.error):l({...n,like:!n.like,likes:e.likes.length})}))};return a().createElement(i(),{className:t.card},a().createElement(c(),{avatar:a().createElement(v(),{src:"/api/users/photo/"+e.post.postedBy._id}),action:e.post.postedBy._id===s.Z.isAuthenticated().user._id&&a().createElement(b(),{onClick:()=>{(0,M.Od)({postId:e.post._id},{t:o.token}).then((t=>{t.error?console.log(t.error):e.onRemove(e.post)}))}},a().createElement(L(),null)),title:a().createElement(T.Link,{to:"/user/"+e.post.postedBy._id},e.post.postedBy.name),subheader:new Date(e.post.created).toDateString(),className:t.cardHeader}),a().createElement(u(),{className:t.cardContent},a().createElement(h(),{component:"p",className:t.text},e.post.text),e.post.photo&&a().createElement("div",{className:t.photo},a().createElement("img",{className:t.media,src:"/api/posts/photo/"+e.post._id}))),a().createElement(m(),null,n.like?a().createElement(b(),{onClick:p,className:t.button,"aria-label":"Like",color:"secondary"},a().createElement(G(),null)):a().createElement(b(),{onClick:p,className:t.button,"aria-label":"Unlike",color:"secondary"},a().createElement(w(),null)),a().createElement("span",null,n.likes),a().createElement(b(),{className:t.button,"aria-label":"Comment",color:"secondary"},a().createElement(S(),null)),a().createElement("span",null,n.comments.length)),a().createElement(Z(),null),a().createElement(N.Z,{postId:e.post._id,comments:n.comments,updateComments:e=>{l({...n,comments:e})}}))}var _,B;q(A,"useStyles{classes}\nuseState{[values, setValues]({\n    like: checkLike(props.post.likes),\n    likes: props.post.likes.length,\n    comments: props.post.comments,\n  })}",(()=>[C])),A.propTypes={post:z().object.isRequired,onRemove:z().func.isRequired},(_="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(_.register(C,"useStyles","/home/prithvi/Desktop/Projects/socialize/client/post/Post.js"),_.register(A,"Post","/home/prithvi/Desktop/Projects/socialize/client/post/Post.js")),(B="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&B(e)},4326:(e,t,o)=>{"use strict";o.d(t,{Z:()=>u});var r,a,s,n=o(9297),i=o.n(n),l=o(4229),c=o.n(l),d=o(4942);function u(e){return i().createElement("div",{style:{marginTop:"24px"}},e.posts.map(((t,o)=>i().createElement(d.Z,{post:t,key:o,onRemove:e.removeUpdate}))))}e=o.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e),"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature,u.propTypes={posts:c().array.isRequired,removeUpdate:c().func.isRequired},(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&a.register(u,"PostList","/home/prithvi/Desktop/Projects/socialize/client/post/PostList.js"),(s="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&s(e)},8918:(e,t,o)=>{"use strict";var r;o.d(t,{rv:()=>n,jv:()=>s,Ue:()=>a,Od:()=>i,vL:()=>l,Yt:()=>c,UI:()=>d,By:()=>u}),e=o.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e),"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const a=async(e,t,o)=>{try{let r=await fetch("/api/posts/new/"+e.userId,{method:"POST",headers:{Accept:"application/json",Authorization:"Bearer "+t.t},body:o});return await r.json()}catch(e){console.log(e)}},s=async(e,t)=>{try{let o=await fetch("/api/posts/by/"+e.userId,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+t.t}});return await o.json()}catch(e){console.log(e)}},n=async(e,t,o)=>{try{let r=await fetch("/api/posts/feed/"+e.userId,{method:"GET",signal:o,headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+t.t}});return await r.json()}catch(e){console.log(e)}},i=async(e,t)=>{try{let o=await fetch("/api/posts/"+e.postId,{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+t.t}});return await o.json()}catch(e){console.log(e)}},l=async(e,t,o)=>{try{let r=await fetch("/api/posts/like/",{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+t.t},body:JSON.stringify({userId:e.userId,postId:o})});return await r.json()}catch(e){console.log(e)}},c=async(e,t,o)=>{try{let r=await fetch("/api/posts/unlike/",{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+t.t},body:JSON.stringify({userId:e.userId,postId:o})});return await r.json()}catch(e){console.log(e)}},d=async(e,t,o,r)=>{try{let a=await fetch("/api/posts/comment/",{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+t.t},body:JSON.stringify({userId:e.userId,postId:o,comment:r})});return await a.json()}catch(e){console.log(e)}},u=async(e,t,o,r)=>{try{let a=await fetch("/api/posts/uncomment/",{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+t.t},body:JSON.stringify({userId:e.userId,postId:o,comment:r})});return await a.json()}catch(e){console.log(e)}};var p,m;(p="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(p.register(a,"create","/home/prithvi/Desktop/Projects/socialize/client/post/api-post.js"),p.register(s,"listByUser","/home/prithvi/Desktop/Projects/socialize/client/post/api-post.js"),p.register(n,"listNewsFeed","/home/prithvi/Desktop/Projects/socialize/client/post/api-post.js"),p.register(i,"remove","/home/prithvi/Desktop/Projects/socialize/client/post/api-post.js"),p.register(l,"like","/home/prithvi/Desktop/Projects/socialize/client/post/api-post.js"),p.register(c,"unlike","/home/prithvi/Desktop/Projects/socialize/client/post/api-post.js"),p.register(d,"comment","/home/prithvi/Desktop/Projects/socialize/client/post/api-post.js"),p.register(u,"uncomment","/home/prithvi/Desktop/Projects/socialize/client/post/api-post.js")),(m="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&m(e)},1182:(e,t,o)=>{"use strict";o.d(t,{Z:()=>l});var r=o(8604);const a=require("@material-ui/core/colors");var s;e=o.hmd(e),(s="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&s(e),"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const n=(0,r.createMuiTheme)({typography:{useNextVariants:!0},palette:{primary:{light:"#5c67a3",main:"#3f4771",dark:"#2e355b",contrastText:"#fff"},secondary:{light:"#ff79b0",main:"#ff4081",dark:"#c60055",contrastText:"#000"},openTitle:a.teal[700],protectedTitle:a.orange[700],type:"light"}}),i=n,l=i;var c,d;(c="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(c.register(n,"theme","/home/prithvi/Desktop/Projects/socialize/client/theme.js"),c.register(i,"default","/home/prithvi/Desktop/Projects/socialize/client/theme.js")),(d="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&d(e)},4625:(e,t,o)=>{"use strict";o.d(t,{Z:()=>x});var r=o(9297),a=o.n(r),s=o(4229),n=o.n(s),i=o(3288),l=o(8343);const c=require("react-router");var d,u,p,m=o(1550),f=o.n(m),h=o(9767),g=o.n(h),v=o(9414),y=o.n(v),b=o(7693),j=o.n(b),L=o(1279),H=o.n(L),G=o(7513),E=o.n(G),w=o(9794),k=o.n(w),P=o(5267),S=o.n(P);function x(e){const[t,o]=(0,r.useState)(!1),[s,n]=(0,r.useState)(!1),d=i.Z.isAuthenticated(),u=()=>{o(!1)};return s?a().createElement(c.Redirect,{to:"/"}):a().createElement("span",null,a().createElement(f(),{"aria-label":"Delete",onClick:()=>{o(!0)},color:"secondary"},a().createElement(y(),null)),a().createElement(j(),{open:t,onClose:u},a().createElement(S(),null,"Delete Account"),a().createElement(E(),null,a().createElement(k(),null,"Confirm to delete the account.")),a().createElement(H(),null,a().createElement(g(),{onClick:u,color:"primary"},"Cancel"),a().createElement(g(),{onClick:()=>{(0,l.Od)({userId:e.userId},{t:d.token}).then((e=>{e&&e.error?console.log(e.error):(i.Z.clearJWT((()=>console.log("Deleted successfully."))),n(!0))}))},color:"secondary",autoFocus:"autoFocus"},"Confirm"))))}e=o.hmd(e),(d="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&d(e),("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e})(x,"useState{[open, setOpen](false)}\nuseState{[redirect, setRedirect](false)}"),x.propTypes={userId:n().string.isRequired},(u="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&u.register(x,"DeleteUser","/home/prithvi/Desktop/Projects/socialize/client/user/DeleteUser.js"),(p="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&p(e)},4926:(e,t,o)=>{"use strict";o.d(t,{Z:()=>N});var r=o(9297),a=o.n(r),s=o(8604),n=o(2959),i=o.n(n),l=o(9908),c=o.n(l),d=o(8305),u=o.n(d),p=o(3673),m=o.n(p),f=o(1667),h=o.n(f),g=o(2339),v=o.n(g),y=o(9558),b=o.n(y),j=o(9767),L=o.n(j),H=o(1550),G=o.n(H),E=o(4740),w=o.n(E),k=o(2146),P=o(8343),S=o(3288);const x=require("@material-ui/core/Snackbar");var Z=o.n(x);const D=require("@material-ui/icons/Visibility");var z,I=o.n(D);e=o.hmd(e),(z="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&z(e);var T="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e};const M=(0,s.makeStyles)((e=>({root:e.mixins.gutters({padding:e.spacing(1),margin:0}),title:{margin:`${e.spacing(3)}px ${e.spacing(1)}px ${e.spacing(2)}px`,color:e.palette.openTitle,fontSize:"1em"},avatar:{marginRight:e.spacing(1)},follow:{right:e.spacing(2)},snack:{color:e.palette.protectedTitle},viewButton:{verticalAlign:"middle"}})));function N(){const e=M(),[t,o]=(0,r.useState)({users:[],opne:!1,followMessage:""}),s=S.Z.isAuthenticated();return(0,r.useEffect)((()=>{const e=new AbortController,r=e.signal;return(0,P.bv)({userId:s.user._id},{t:s.token},r).then((e=>{e&&e.error?console.log(e.error):o({...t,users:e})})),function(){e.abort()}}),[]),a().createElement("div",null,a().createElement(i(),{className:e.root,elevation:4},a().createElement(w(),{type:"title",className:e.title},"Who to follow"),a().createElement(c(),null,t.users.map(((r,n)=>a().createElement("span",{key:n},a().createElement(u(),null,a().createElement(m(),{className:e.avatar},a().createElement(b(),{src:"/api/users/photo/"+r._id})),a().createElement(v(),{primary:r.name}),a().createElement(h(),{className:e.follow},a().createElement(k.Link,{to:"/user/"+r._id},a().createElement(G(),{variant:"contained",color:"secondary",className:e.viewButton},a().createElement(I(),null))),a().createElement(L(),{"aria-label":"Follow",variant:"contained",color:"primary",onClick:()=>{var e,a;e=r,a=n,(0,P.ZN)({userId:s.user._id},{t:s.token},e._id).then((r=>{if(r.error)console.log(r.error);else{let r=t.users;r.splice(a,1),o({...t,users:r,open:!0,followMessage:`Following ${e.name}!`})}}))}},"Follow")))))))),a().createElement(Z(),{anchorOrigin:{vertical:"bottom",horizontal:"right"},open:t.open,onClose:(e,r)=>{o({...t,open:!1})},autoHideDuration:6e3,message:a().createElement("span",{className:e.snack},t.followMessage)}))}var q,C;T(N,"useStyles{classes}\nuseState{[values, setValues]({\n    users: [],\n    opne: false,\n    followMessage: '',\n  })}\nuseEffect{}",(()=>[M])),(q="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(q.register(M,"useStyles","/home/prithvi/Desktop/Projects/socialize/client/user/Discover.js"),q.register(N,"Discover","/home/prithvi/Desktop/Projects/socialize/client/user/Discover.js")),(C="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&C(e)},9162:(e,t,o)=>{"use strict";o.d(t,{Z:()=>k});var r,a=o(9297),s=o.n(a),n=o(9575),i=o.n(n),l=o(3162),c=o.n(l),d=o(3866),u=o.n(d),p=o(9767),m=o.n(p),f=o(2879),h=o.n(f),g=o(4740),v=o.n(g),y=o(1310),b=o.n(y),j=o(8604),L=o(3288),H=o(8343),G=o(2146);e=o.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e);var E="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e};const w=(0,j.makeStyles)((e=>({card:{maxWidth:600,margin:"auto",textAlign:"center",marginTop:e.spacing(5),paddingBottom:e.spacing(2)},title:{margin:e.spacing(2),color:e.palette.protectedTitle},error:{verticalAlign:"middle"},textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1),width:300},submit:{margin:"auto",marginRight:e.spacing(2)}})));function k({match:e}){const t=w(),[o,r]=(0,a.useState)({name:"",about:"",photo:"",email:"",password:"",redirectToProfile:!1,error:"",id:""}),n=L.Z.isAuthenticated();(0,a.useEffect)((()=>{const t=new AbortController,a=t.signal;return(0,H.ij)({userId:e.params.userId},{t:n.token},a).then((e=>{e&&e.error&&r({...o,name:e.name,email:e.email})})),function(){t.abort()}}),[e.params.userId]);const l=e=>t=>{"photo"==e?t.target.files[0]:t.target.value,r({...o,[e]:t.target.value})};return o.redirectToProfile?s().createElement(G.Redirect,{to:"/user"+o.userId}):s().createElement(i(),{className:t.card},s().createElement(u(),null,s().createElement(v(),{variant:"h6",className:t.title},"Edit Profile"),s().createElement("input",{accept:"image/*",type:"file",onChange:l("photo"),style:{display:"none"},id:"icon-button-file"}),s().createElement("label",{htmlFor:"icon-button-file"},s().createElement(m(),{variant:"contained",color:"default",component:"span"},"Upload ",s().createElement(FileUpload,null))),s().createElement("span",{className:t.filename},o.photo?o.photo.name:""),s().createElement("br",null),s().createElement(Textfield,{id:"multiline-flexible",label:"About",multiline:!0,rows:"2",value:o.about,onChange:l("about")}),s().createElement(h(),{id:"name",label:"Name",className:t.textField,value:o.name,onChange:l("name"),margin:"normal"}),s().createElement("br",null),s().createElement(h(),{id:"email",type:"email",label:"Email",className:t.textField,value:o.email,onChange:l("email"),margin:"normal"}),s().createElement("br",null),s().createElement(h(),{id:"password",type:"password",label:"Password",className:t.textField,value:o.password,onChange:l("password"),margin:"normal"}),s().createElement("br",null)," ",o.error&&s().createElement(v(),{component:"p",color:"error"},s().createElement(b(),{color:"error",className:t.error},"error"),o.error)),s().createElement(c(),null,s().createElement(m(),{color:"primary",variant:"contained",onClick:()=>{let t=new FormData;o.name&&t.append("name",o.name),o.email&&t.append("email",o.email),o.password&&t.append(".password",o.password),o.about&&t.append("about",o.about),o.photo&&t.append(".photo",o.photo),(0,H.Vx)({userId:e.params.userId},{t:n.token},t).then((e=>{e&&e.error?r({...o,error:e.error}):r({...o,userId:e._id,redirectToProfile:!0})}))},className:t.submit},"Submit")))}var P,S;E(k,"useStyles{classes}\nuseState{[values, setValues]({\n    name: '',\n    about: '',\n    photo: '',\n    email: '',\n    password: '',\n    redirectToProfile: false,\n    error: '',\n    id: '',\n  })}\nuseEffect{}",(()=>[w])),(P="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(P.register(w,"useStyles","/home/prithvi/Desktop/Projects/socialize/client/user/EditProfile.js"),P.register(k,"EditProfile","/home/prithvi/Desktop/Projects/socialize/client/user/EditProfile.js")),(S="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&S(e)},5696:(e,t,o)=>{"use strict";o.d(t,{Z:()=>j});var r=o(9297),a=o.n(r),s=o(8604),n=o(4229),i=o.n(n),l=o(9558),c=o.n(l),d=o(4740),u=o.n(d),p=o(2146);const m=require("@material-ui/core/GridList");var f=o.n(m);const h=require("@material-ui/core/GridListTile");var g,v=o.n(h);e=o.hmd(e),(g="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&g(e);var y="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e};const b=(0,s.makeStyles)((e=>({root:{paddingTop:e.spacing(2),display:"flex",flexWrap:"wrap",justifyContent:"space-around",overflow:"hidden",background:e.palette.background.paper},bigAvatar:{width:60,height:60,margin:"auto"},gridList:{width:500,height:220},tileText:{textAlign:"center",marginTop:10}})));function j(e){const t=b();return a().createElement("div",{className:t.root},a().createElement(f(),{cellHeight:160,className:t.gridList,cols:4},e.people.map(((e,o)=>a().createElement(v(),{style:{height:120},key:o},a().createElement(p.Link,{to:"/user/"+e._id},a().createElement(c(),{src:"/api/users/photo/"+e._id,className:t.bigAVatar}),a().createElement(u(),{className:t.titleText},e.name)))))))}var L,H;y(j,"useStyles{classes}",(()=>[b])),j.PropTypes={people:i().array.isRequired},(L="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(L.register(b,"useStyles","/home/prithvi/Desktop/Projects/socialize/client/user/FollowGrid.js"),L.register(j,"FollowGrid","/home/prithvi/Desktop/Projects/socialize/client/user/FollowGrid.js")),(H="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&H(e)},336:(e,t,o)=>{"use strict";var r,a,s;function n(e){return React.createElement("div",null,e.following?React.createElement(Button,{variant:"contained",color:"secondary",onClick:()=>{e.onButtonClick(unfollow)}},"Unfollow"):React.createElement(Button,{variant:"contained",color:"primary",onClick:()=>{e.onButtonClick(follow)}},"Follow"))}o.d(t,{Z:()=>n}),e=o.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e),"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature,(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&a.register(n,"FollowProfileButton","/home/prithvi/Desktop/Projects/socialize/client/user/FollowProfileButton.js"),(s="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&s(e)},1027:(e,t,o)=>{"use strict";o.d(t,{Z:()=>C});var r=o(9297),a=o.n(r),s=o(8604),n=o(2959),i=o.n(n),l=o(9908),c=o.n(l),d=o(8305),u=o.n(d),p=o(3673),m=o.n(p),f=o(1667),h=o.n(f),g=o(2339),v=o.n(g),y=o(9558),b=o.n(y),j=o(1550),L=o.n(j),H=o(4740),G=o.n(H);const E=require("@material-ui/icons/Edit");var w,k=o.n(E),P=o(5207),S=o.n(P),x=o(4625),Z=o(3288),D=o(8343),z=o(2146),I=o(336),T=o(8562),M=o(8918);e=o.hmd(e),(w="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&w(e);var N="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e};const q=(0,s.makeStyles)((e=>({root:e.mixins.gutters({maxWidth:600,margin:"auto",padding:e.spacing(3),marginTop:e.spacing(5)}),title:{margin:`${e.spacing(2)}px ${e.spacing(1)}px 0`,color:e.palette.protectedTitle,fontSize:"1em"},bigAvatar:{width:60,height:60,margin:10}})));function C({match:e}){const t=q(),[o,s]=(0,r.useState)({user:{following:[],followers:[]},redirectToSignin:!1,following:!1}),[n,l]=(0,r.useState)([]),d=Z.Z.isAuthenticated();(0,r.useEffect)((()=>{const t=new AbortController,r=t.signal;return(0,D.ij)({userId:e.params.userId},{t:d.token},r).then((e=>{if(e&&e.error)s({...o,redirectToSignin:!0});else{let t=p(e);s({...o,user:e,following:t}),f(e._id)}})),function(){t.abort()}}),[e.params.userId]);const p=e=>e.followers.some((e=>e._id==d.user._id)),f=e=>{(0,M.jv)({userId:e},{t:d.token}).then((e=>{e.error?console.log(e.error):l(e)}))},g=o.user._id?`/api/users/photo/${o.user._id}?${(new Date).getTime()}`:"/api/users/defaultphoto";return o.redirectToSignin?a().createElement(z.Redirect,{to:"/signin"}):a().createElement(i(),{className:t.root,elevation:4},a().createElement(G(),{variant:"h6",className:t.title},"Profile"),a().createElement(c(),{dense:!0},a().createElement(u(),null,a().createElement(m(),null,a().createElement(b(),{src:g,className:t.bigAvatar})),a().createElement(v(),{primary:o.user.name,secondary:o.user.email})," ",Z.Z.isAuthenticated().user&&Z.Z.isAuthenticated().user._id==o.user._id?a().createElement(h(),null,a().createElement(z.Link,{to:"/user/edit/"+o.user._id},a().createElement(L(),{"aria-label":"Edit",color:"primary"},a().createElement(k(),null))),a().createElement(x.Z,{userId:o.user._id})):a().createElement(I.Z,{following:o.following,onButtonClick:e=>{e({userId:d.user._id},{t:d.token},o.user._id).then((e=>{e.error?s({...o,error:e.error}):s({...o,user:e,following:!o.following})}))}})),a().createElement(S(),null),a().createElement(u(),null,a().createElement(v(),{primary:o.user.about,secondary:"Joined: "+new Date(o.user.created).toDateString()}))),a().createElement(T.Z,{user:o.user,posts:n,removePostUpdate:e=>{const t=n,o=t.indexOf(e);t.splice(o,1),l(t)}}))}var A,_;N(C,"useStyles{classes}\nuseState{[values, setValues]({\n    user: { following: [], followers: [] },\n    redirectToSignin: false,\n    following: false,\n  })}\nuseState{[posts, setPosts]([])}\nuseEffect{}",(()=>[q])),(A="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(A.register(q,"useStyles","/home/prithvi/Desktop/Projects/socialize/client/user/Profile.js"),A.register(C,"Profile","/home/prithvi/Desktop/Projects/socialize/client/user/Profile.js")),(_="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&_(e)},8562:(e,t,o)=>{"use strict";o.d(t,{Z:()=>y});var r=o(9297),a=o.n(r),s=o(4229),n=o.n(s),i=o(2905),l=o.n(i),c=o(4740),d=o.n(c);const u=require("@material-ui/core/Tabs");var p=o.n(u);const m=require("@material-ui/core/Tab");var f,h=o.n(m),g=o(5696),v=o(4326);function y(){const[e,t]=(0,r.useState)(0);return a().createElement("div",null,a().createElement(l(),{position:"static",color:"default"},a().createElement(p(),{value:e,onChange:(e,o)=>{t(o)},indicatorColor:"primary",textCOlor:"primary",variant:"fullwidth"},a().createElement(h(),{label:"Posts"}),a().createElement(h(),{label:"Following"}),a().createElement(h(),{label:"Followers"}))),0===e&&a().createElement(b,null,a().createElement(v.Z,{removeUpdate:props.removeUpdate,posts:props.posts})),1===e&&a().createElement(b,null,a().createElement(g.Z,{people:props.user.following})),2===e&&a().createElement(b,null,a().createElement(g.Z,{people:props.user.followers})))}e=o.hmd(e),(f="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&f(e),("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e})(y,"useState{[tab, setTab](0)}"),ProfileGrid.propTypes={user:n().object.isRequired,removePostUpdate:n().func.isRequired,posts:n().array.isRequired};const b=e=>a().createElement(d(),{component:"div",style:{padding:16}},e.children);var j,L;b.propTypes={childre:n().node.isRequired},(j="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(j.register(y,"ProfileTabs","/home/prithvi/Desktop/Projects/socialize/client/user/ProfileTabs.js"),j.register(b,"TabContainer","/home/prithvi/Desktop/Projects/socialize/client/user/ProfileTabs.js")),(L="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&L(e)},6967:(e,t,o)=>{"use strict";o.d(t,{Z:()=>M});var r,a=o(9297),s=o.n(a),n=o(9575),i=o.n(n),l=o(3162),c=o.n(l),d=o(3866),u=o.n(d),p=o(9767),m=o.n(p),f=o(2879),h=o.n(f),g=o(4740),v=o.n(g),y=o(1310),b=o.n(y),j=o(8604),L=o(8343),H=o(7693),G=o.n(H),E=o(1279),w=o.n(E),k=o(7513),P=o.n(k),S=o(9794),x=o.n(S),Z=o(5267),D=o.n(Z),z=o(2146);e=o.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e);var I="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e};const T=(0,j.makeStyles)((e=>({card:{maxWidth:600,margin:"auto",textAlign:"center",marginTop:e.spacing(5),paddingBottom:e.spacing(2)},error:{verticalAlign:"middle"},title:{margin:e.spacing(2),color:e.palette.protectedTitle},textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1),width:300},submit:{margin:"auto",marginRight:e.spacing(2)}})));function M(){const e=T(),[t,o]=(0,a.useState)({name:"",password:"",email:"",open:!1,error:""}),r=e=>r=>{o({...t,[e]:r.target.value})};return s().createElement("div",null,s().createElement(i(),{className:e.card},s().createElement(u(),null,s().createElement(v(),{variant:"h6",className:e.title},"Sign up"),s().createElement(h(),{id:"name",label:"Name",className:e.textField,value:t.name,onChange:r("name"),margin:"normal"}),s().createElement("br",null),s().createElement(h(),{id:"email",type:"email",label:"Email",className:e.textField,value:t.email,onChange:r("email"),margin:"normal"}),s().createElement("br",null),s().createElement(h(),{id:"email",type:"password",label:"Password",className:e.textField,value:t.password,onChange:r("password"),margin:"normal"}),s().createElement("br",null),t.error&&s().createElement(v(),{component:"p",color:"error"},s().createElement(b(),{color:"error",className:e.error},"error"),t.error)),s().createElement(c(),null,s().createElement(m(),{color:"primary",variant:"contained",onSubmit:()=>{const e={name:t.name||void 0,email:t.email||void 0,password:t.password||void 0};(0,L.Ue)(e).then((e=>{e.error?o({...t,error:e.error}):o({...t,error:"",open:!0})}))},className:e.submit},"Submit"))),s().createElement(G(),{open:t.open,disabledBackdropClick:!0},s().createElement(D(),null,"New account"),s().createElement(P(),null,s().createElement(x(),null,"New account successfully created")),s().createElement(w(),null,s().createElement(z.Link,{to:"/signin"},s().createElement(m(),{color:"primary",autoFocus:"autoFocus",variant:"contained"},"Sign in")))))}var N,q;I(M,"useStyles{classes}\nuseState{[values, setValues]({\n    name: '',\n    password: '',\n    email: '',\n    open: false,\n    error: '',\n  })}",(()=>[T])),(N="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(N.register(T,"useStyles","/home/prithvi/Desktop/Projects/socialize/client/user/Signup.js"),N.register(M,"Signup","/home/prithvi/Desktop/Projects/socialize/client/user/Signup.js")),(q="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&q(e)},2512:(e,t,o)=>{"use strict";o.d(t,{Z:()=>I});var r=o(9297),a=o.n(r),s=o(8604),n=o(2959),i=o.n(n),l=o(9908),c=o.n(l),d=o(8305),u=o.n(d),p=o(3673),m=o.n(p),f=o(1667),h=o.n(f),g=o(2339),v=o.n(g),y=o(9558),b=o.n(y),j=o(1550),L=o.n(j),H=o(4740),G=o.n(H);const E=require("@material-ui/icons/ArrowForward");var w=o.n(E);const k=require("@material-ui/icons/Person");var P,S=o.n(k),x=o(2146),Z=o(8343);e=o.hmd(e),(P="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&P(e);var D="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e};const z=(0,s.makeStyles)((e=>({root:e.mixins.gutters({padding:e.spacing(1),margin:e.spacing(5)}),title:{margin:`${e.spacing(4)}px 0 ${e.spacing(2)}px`,color:e.palette.openTitle}})));function I(){const e=z(),[t,o]=(0,r.useState)([]);return(0,r.useEffect)((()=>{const e=new AbortController,t=e.signal;return(0,Z.pb)(t).then((e=>{e&&e.error?console.log(e.error):o(e)})),function(){e.abort()}}),[]),a().createElement(i(),{className:e.root,elevation:4},a().createElement(G(),{variant:"h6",className:e.title},"All users."),a().createElement(c(),{dense:!0},t.map(((e,t)=>a().createElement(x.Link,{to:"/user"+e._id,key:t},a().createElement(u(),{button:!0},a().createElement(m(),null,a().createElement(b(),null,a().createElement(S(),null))),a().createElement(v(),{primary:e.name}),a().createElement(h(),null,a().createElement(L(),null,a().createElement(w(),null)))))))))}var T,M;D(I,"useStyles{classes}\nuseState{[users, setUsers]([])}\nuseEffect{}",(()=>[z])),(T="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(T.register(z,"useStyles","/home/prithvi/Desktop/Projects/socialize/client/user/Users.js"),T.register(I,"Users","/home/prithvi/Desktop/Projects/socialize/client/user/Users.js")),(M="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&M(e)},8343:(e,t,o)=>{"use strict";var r;o.d(t,{Ue:()=>a,pb:()=>s,ij:()=>n,Vx:()=>i,Od:()=>l,ZN:()=>c,bv:()=>d}),e=o.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e),"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const a=async e=>{try{let t=await fetch("api/users",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)});return await t.json()}catch(e){console.log(e)}},s=async e=>{try{let t=await fetch("/api/users/",{method:"GET",signal:e});return await t.json()}catch(e){console.log(e)}},n=async(e,t,o)=>{try{let r=await fetch("/api/users/"+e.userId,{method:"GET",signal:o,headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer"+t.t}});return await r.json()}catch(e){console.log(e)}},i=async(e,t,o)=>{try{let r=await fetch("/api/users/"+e.userId,{method:"PUT",headers:{Accept:"application/json",Authorization:"Bearer "+t.t},body:o});return await r.json()}catch(e){console.log(e)}},l=async(e,t)=>{try{let o=await fetch("/api/users/"+e.userId,{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+t.t}});return await o.json()}catch(e){console.log(e)}},c=async(e,t,o)=>{try{let r=await fetch("/api/users/follow",{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+t.t},body:JSON.stringify({userId:e.userId,followId:o})});return await r.json()}catch(e){console.log(e)}},d=async(e,t,o)=>{try{let r=await fetch("/api/users/discover/"+e.userId,{method:"GET",signal:o,headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+t.t}});return await r.json()}catch(e){console.log(e)}};var u,p;(u="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(u.register(a,"create","/home/prithvi/Desktop/Projects/socialize/client/user/api-user.js"),u.register(s,"list","/home/prithvi/Desktop/Projects/socialize/client/user/api-user.js"),u.register(n,"read","/home/prithvi/Desktop/Projects/socialize/client/user/api-user.js"),u.register(i,"update","/home/prithvi/Desktop/Projects/socialize/client/user/api-user.js"),u.register(l,"remove","/home/prithvi/Desktop/Projects/socialize/client/user/api-user.js"),u.register(c,"follow","/home/prithvi/Desktop/Projects/socialize/client/user/api-user.js"),u.register((async(e,t,o)=>{try{let r=await fetch("/api/users/unfollow",{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+t.t},body:JSON.stringify({userId:e.userId,unfollowId:o})});return await r.json()}catch(e){console.log(e)}}),"unfollow","/home/prithvi/Desktop/Projects/socialize/client/user/api-user.js"),u.register(d,"discover","/home/prithvi/Desktop/Projects/socialize/client/user/api-user.js")),(p="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&p(e)},8237:(e,t,o)=>{"use strict";var r;o.d(t,{Z:()=>n}),e=o.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e),"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const a={env:"production",port:process.env.PORT||3e3,jwtSecret:process.env.JWT_SECRET||"S3cr3tk3y",mongoUri:process.env.MONGODB_URI||process.env.MONGO_HOST||"mongodb://"+(process.env.IP||"localhost")+":"+(process.env.MONGO_PORT||"27017")+"/socializeData"},s=a,n=s;var i,l;(i="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(i.register(a,"config","/home/prithvi/Desktop/Projects/socialize/config/config.js"),i.register(s,"default","/home/prithvi/Desktop/Projects/socialize/config/config.js")),(l="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&l(e)},949:(e,t,o)=>{"use strict";o.d(t,{Z:()=>h});var r=o(9630);const a=require("jsonwebtoken");var s=o.n(a);const n=require("express-jwt");var i,l=o.n(n),c=o(8237);e=o.hmd(e),(i="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&i(e),"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const d=async(e,t)=>{try{let o=await r.Z.findOne({email:e.body.email});if(!o)return[t.status("401").json({error:"User not found"}),t.redirect("/signin")];if(!o.authenticate(e.body.password))return t.status("401").send({error:"Email and passwords don't match."});const a=s().sign({_id:o._id},c.Z.jwtSecret);return t.cookie("t",a,{expire:new Date+9999}),t.json({token:a,user:{_id:o._id,name:o.name,email:o.email}})}catch(e){return console.log(e),t.status("401").json({error:"Could not sign in ! :("})}},u=(e,t)=>(t.clearCookie("t"),t.status("200").json({message:"signed out"})),p=l()({secret:c.Z.jwtSecret,userProperty:"auth",algorithms:["HS256"]}),m=(e,t,o)=>{if(!e.profile||!e.auth||e.profile._id!=e.auth._id)return t.status("403").json({error:"User isn't authorized !"});o()},f={signin:d,signout:u,requireSignin:p,hasAuthorization:m},h=f;var g,v;(g="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(g.register(d,"signin","/home/prithvi/Desktop/Projects/socialize/server/controllers/auth.controller.js"),g.register(u,"signout","/home/prithvi/Desktop/Projects/socialize/server/controllers/auth.controller.js"),g.register(p,"requireSignin","/home/prithvi/Desktop/Projects/socialize/server/controllers/auth.controller.js"),g.register(m,"hasAuthorization","/home/prithvi/Desktop/Projects/socialize/server/controllers/auth.controller.js"),g.register(f,"default","/home/prithvi/Desktop/Projects/socialize/server/controllers/auth.controller.js")),(v="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&v(e)},1513:(e,t,o)=>{"use strict";o.d(t,{Z:()=>H});var r,a=o(5804),s=o(9022),n=o(8928),i=o.n(n),l=o(5747),c=o.n(l);e=o.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e),"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const d=(e,t,o)=>{let r=new(i().IncomingForm);r.keepExtensions=!0,r.parse(e,(async(o,r,n)=>{if(o)return t.status(400).json({error:"Image could not be uploaded"});let i=new a.Z(r);i.postedBy=e.profile,n.photo&&(i.photo.data=c().readFileSync(n.photo.path),i.photo.contentType=n.photo.type);try{let e=await i.save();t.json(e)}catch(o){return t.status(400).json({error:s.Z.getErrorMessage(o)})}console.log(o)}))},u=async(e,t,o,r)=>{try{let s=await a.Z.findById(r).populate("postedBy","_id.name").exec();if(!s)return t.status(404).json({error:"Post not found"});e.post=s,o()}catch(e){return t.status(400).json({error:"Couldn't retrieve the user post"})}},p=async(e,t)=>{try{let o=await a.Z.find({postedBy:e.profile._id}).populate("comments.postedBy","_id name").populate("postedBy","_id name").sort("-created").exec();t.json(o)}catch(e){return t.status(400).json({error:s.Z.getErrorMessage(e)})}},m=async(e,t)=>{e.profile.following.push(e.profile._id);try{let o=await a.Z.find({postedBy:{$in:e.profile.following}}).populate("comments.postedBy","_id name").populate("postedBy","_id name").sort("-created").exec();t.json(o)}catch(e){return t.status(400).json({error:s.Z.getErrorMessage(e)})}},f=async(e,t)=>{let o=e.post;try{let e=await o.remove();t.json(e)}catch(e){return t.status(400).json({error:s.Z.getErrorMessage(e)})}},h=(e,t,o)=>(t.set("Content-Type",e.post.photo.contentType),t.send(e.post.photo.data)),g=async(e,t)=>{try{let o=await a.Z.findByIdAndUpdate(e.body.postId,{$push:{likes:e.body.userId}},{new:!0});t.json(o)}catch(e){return t.status(400).json({error:s.Z.getErrorMessage(e)})}},v=async(e,t)=>{try{let o=await a.Z.findByIdAndUpdate(e.body.postId,{$pull:{likes:e.body.userId}},{new:!0});t.json(o)}catch(e){return t.status(400).json({error:s.Z.getErrorMessage(e)})}},y=async(e,t)=>{let o=e.body.comment;o.postedBy=e.body.userId;try{let r=await a.Z.findByIdAndUpdate(e.body.postId,{$push:{comments:o}},{new:!0}).populate("comments.postedBy","_id name").populate("postedBy","_id name").exec();t.json(r)}catch(e){return t.status(400).json({error:s.Z.getErrorMessage(e)})}},b=async(e,t)=>{let o=e.body.comment;try{let r=await a.Z.findByIdAndUpdate(e.body.postId,{$pull:{comments:{_id:o._id}}},{new:!0}).populate("comments.postedBy","_id name").populate("postedBy","_id name").exec();t.json(r)}catch(e){return t.status(400).json({error:s.Z.getErrorMessage(e)})}},j=(e,t,o)=>{if(!e.post||!e.auth||e.post.postedBy._id!=e.auth._id)return t.status("403").json({error:"User is not authorized"});o()},L={listByUser:p,listNewsFeed:m,create:d,postById:u,remove:f,photo:h,like:g,unlike:v,comment:y,uncomment:b,isPoster:j},H=L;var G,E;(G="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(G.register(d,"create","/home/prithvi/Desktop/Projects/socialize/server/controllers/post.controller.js"),G.register(u,"postById","/home/prithvi/Desktop/Projects/socialize/server/controllers/post.controller.js"),G.register(p,"listByUser","/home/prithvi/Desktop/Projects/socialize/server/controllers/post.controller.js"),G.register(m,"listNewsFeed","/home/prithvi/Desktop/Projects/socialize/server/controllers/post.controller.js"),G.register(f,"remove","/home/prithvi/Desktop/Projects/socialize/server/controllers/post.controller.js"),G.register(h,"photo","/home/prithvi/Desktop/Projects/socialize/server/controllers/post.controller.js"),G.register(g,"like","/home/prithvi/Desktop/Projects/socialize/server/controllers/post.controller.js"),G.register(v,"unlike","/home/prithvi/Desktop/Projects/socialize/server/controllers/post.controller.js"),G.register(y,"comment","/home/prithvi/Desktop/Projects/socialize/server/controllers/post.controller.js"),G.register(b,"uncomment","/home/prithvi/Desktop/Projects/socialize/server/controllers/post.controller.js"),G.register(j,"isPoster","/home/prithvi/Desktop/Projects/socialize/server/controllers/post.controller.js"),G.register(L,"default","/home/prithvi/Desktop/Projects/socialize/server/controllers/post.controller.js")),(E="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&E(e)},4639:(e,t,o)=>{"use strict";o.d(t,{Z:()=>P});var r=o(9630);const a=require("lodash/extend");var s=o.n(a),n=o(9022),i=o(8928),l=o.n(i),c=o(5747),d=o.n(c);const u=o.p+"1c6f15cc0f42be568fbc7e8f21fbd23f.jpg";var p;e=o.hmd(e),(p="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&p(e),"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const m=async(e,t)=>{const o=new r.Z(e.body);try{return await o.save(),t.status(200).json({message:"Successfully signed up."})}catch(e){return t.status(400).json({error:n.Z.getErrorMessage(e)})}},f=async(e,t,o,a)=>{try{let s=await r.Z.findById(a).populate("following","_id name").populate("followers","_id name").exec();if(!s)return t.status("400").json({error:"User not found"});e.profile=s,o()}catch(e){return t.status("400").json({error:"Couldn't retrieve the user"})}},h=(e,t)=>(e.profile.hashed_password=void 0,e.profile.salt=void 0,t.json(e.profile)),g=async(e,t)=>{try{let e=await r.Z.find().select("name email updated created");t.json(e)}catch(e){return t.status(400).json({error:n.Z.getErrorMessage(e)})}},v=async(e,t)=>{let o=new(l().IncomingForm);o.keepExtensions=!0,o.parse(e,(async(o,r,a)=>{if(error)return t.status(400).json({error:"Photo could not be uploaded."});let i=e.profile;i=s()(i,r),i.updated=Date.now(),a.photo&&(i.photo.data=d().readFileSync(a.photo.path),i.photo.contentType=a.photo.type);try{await i.save(),i.hashed_password=void 0,i.salt=void 0,t.json(i)}catch(e){return t.status(400).json({error:n.Z.getErrorMessage(e)})}}))},y=async(e,t)=>{try{e.profile;let o=await r.Z.remove();o.hashed_password=void 0,o.salt=void 0,t.json(o)}catch(e){return t.status(400).json({error:n.Z.getErrorMessage(e)})}},b=(e,t,o)=>{if(e.profile.photo.data)return t.set("Content-Type",e.profile.photo.contentType),t.send(e.profile.photo.data);o()},j=(e,t)=>t.sendFile(process.cwd()+u),L=async(e,t,o)=>{try{await r.Z.findByIdAndUpdate(e.body.userId,{$push:{following:e.body.followId}}),o()}catch(e){return t.status(400).json({error:n.Z.getErrorMessage(e)})}},H=async(e,t)=>{try{let o=await r.Z.findByIdAndUpdate(e.body.followId,{$push:{followers:e.body.userId}},{new:!0}).populate("following","_id name").populate("followers","_id name").exec();o.hashed_password=void 0,o.salt=void 0,t.json(o)}catch(e){return t.status(400).json({error:n.Z.getErrorMessage(e)})}},G=async(e,t,o)=>{try{await r.Z.findByIdAndUpdate(e.body.userId,{$pull:{following:e.body.unFollowId}}),o()}catch(e){return t.status(400).json({error:n.Z.getErrorMessage(e)})}},E=async(e,t)=>{try{let o=await r.Z.findByIdAndUpdate(e.body.unFollowId,{$pull:{followers:e.body.userId}},{new:!0}).populate("following","_id name").populate("followers","_id name").exec();o.hashed_password=void 0,o.salt=void 0,t.json(o)}catch(e){return t.status(404).json({error:n.Z.getErrorMessage(e)})}},w=async(e,t)=>{let o=e.profile.following;o.push(e.profile._id);try{let e=await r.Z.find({_id:{$nin:o}}).select("name");t.json(e)}catch(e){return t.status(400).json({error:n.Z.getErrorMessage(e)})}},k={create:m,userById:f,read:h,list:g,remove:y,update:v,photo:b,defaultPhoto:j,addFollowing:L,addFollower:H,removeFollowing:G,removeFollower:E,discover:w},P=k;var S,x;(S="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(S.register(m,"create","/home/prithvi/Desktop/Projects/socialize/server/controllers/user.controller.js"),S.register(f,"userById","/home/prithvi/Desktop/Projects/socialize/server/controllers/user.controller.js"),S.register(h,"read","/home/prithvi/Desktop/Projects/socialize/server/controllers/user.controller.js"),S.register(g,"list","/home/prithvi/Desktop/Projects/socialize/server/controllers/user.controller.js"),S.register(v,"update","/home/prithvi/Desktop/Projects/socialize/server/controllers/user.controller.js"),S.register(y,"remove","/home/prithvi/Desktop/Projects/socialize/server/controllers/user.controller.js"),S.register(b,"photo","/home/prithvi/Desktop/Projects/socialize/server/controllers/user.controller.js"),S.register(j,"defaultPhoto","/home/prithvi/Desktop/Projects/socialize/server/controllers/user.controller.js"),S.register(L,"addFollowing","/home/prithvi/Desktop/Projects/socialize/server/controllers/user.controller.js"),S.register(H,"addFollower","/home/prithvi/Desktop/Projects/socialize/server/controllers/user.controller.js"),S.register(G,"removeFollowing","/home/prithvi/Desktop/Projects/socialize/server/controllers/user.controller.js"),S.register(E,"removeFollower","/home/prithvi/Desktop/Projects/socialize/server/controllers/user.controller.js"),S.register(w,"discover","/home/prithvi/Desktop/Projects/socialize/server/controllers/user.controller.js"),S.register(k,"default","/home/prithvi/Desktop/Projects/socialize/server/controllers/user.controller.js")),(x="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&x(e)},7579:(e,t,o)=>{"use strict";o.d(t,{Z:()=>h});var r=o(8237),a=o(4078),s=o.n(a);const n=require("webpack-dev-middleware");var i=o.n(n);const l=require("webpack-hot-middleware");var c,d=o.n(l),u=o(9083),p=o.n(u);e=o.hmd(e),(c="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&c(e),"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const m=e=>{if("development"==r.Z.env){const t=s()(p()),o=i()(t,{publicPath:p().output.publicPath});e.use(o),e.use(d()(t))}},f={compile:m},h=f;var g,v;(g="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(g.register(m,"compile","/home/prithvi/Desktop/Projects/socialize/server/devBundle.js"),g.register(f,"default","/home/prithvi/Desktop/Projects/socialize/server/devBundle.js")),(v="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&v(e)},642:(e,t,o)=>{"use strict";o.d(t,{Z:()=>z});var r=o(2127),a=o.n(r),s=o(5622),n=o.n(s);const i=require("cookie-parser");var l=o.n(i);const c=require("compression");var d=o.n(c);const u=require("cors");var p=o.n(u);const m=require("helmet");var f=o.n(m),h=o(2281),g=o(9816),v=o(6504),y=o(2053),b=o(9297),j=o.n(b);const L=require("react-dom/server");var H=o.n(L),G=o(5551),E=o(2146);const w=require("@material-ui/styles");var k,P=o(1182),S=o(7579);e=o.hmd(e),(k="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&k(e),"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const x=process.cwd(),Z=a()();S.Z.compile(Z),Z.use(a().json()),Z.use(a().urlencoded({extended:!0})),Z.use(l()()),Z.use(d()()),Z.use(f()()),Z.use(p()()),Z.use("/dist",a().static(n().join(x,"dist"))),Z.use("/",g.Z),Z.use("/",v.Z),Z.use("/",y.Z),Z.get("*",((e,t)=>{const o=new w.ServerStyleSheets,r={},a=H().renderToString(o.collect(j().createElement(E.StaticRouter,{location:e.url,context:r},j().createElement(w.ThemeProvider,{theme:P.Z},j().createElement(G.Z,null)))));if(r.url)return t.redirect(303,r.url);const s=o.toString();t.status(200).send((0,h.Z)({markup:a,css:s}))})),Z.use(((e,t,o,r)=>{"UnauthorizedError"===e.name?o.status(401).json({error:e.name+": "+e.message}):e&&(o.status(400).json({error:e.name+": "+e.message}),console.log(e))}));const D=Z,z=D;var I,T;(I="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(I.register(x,"CURRENT_WORKING_DIR","/home/prithvi/Desktop/Projects/socialize/server/express.js"),I.register(Z,"app","/home/prithvi/Desktop/Projects/socialize/server/express.js"),I.register(D,"default","/home/prithvi/Desktop/Projects/socialize/server/express.js")),(T="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&T(e)},9022:(e,t,o)=>{"use strict";var r;o.d(t,{Z:()=>i}),e=o.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e),"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const a=e=>{let t;try{let o=e.message.substring(e.message.lastIndexOf(".$")+2,e.message.lastIndexOf("_1"));t=o.charAt(0).toUpperCase()+o.slice(1)+"already exists !"}catch(e){t="Unique field already exists !"}return t},s=e=>{let t="";if(e.code)switch(e.code){case 11e3:case 11001:t=a(e);break;default:t="Something went wrong !"}else for(let o in e.errors)e.errors[o].message&&(t=e.errors[o].message);return t},n={getErrorMessage:s},i=n;var l,c;(l="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(l.register(a,"getUniqueErrorMessage","/home/prithvi/Desktop/Projects/socialize/server/helpers/dbErrorHandler.js"),l.register(s,"getErrorMessage","/home/prithvi/Desktop/Projects/socialize/server/helpers/dbErrorHandler.js"),l.register(n,"default","/home/prithvi/Desktop/Projects/socialize/server/helpers/dbErrorHandler.js")),(c="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&c(e)},5804:(e,t,o)=>{"use strict";o.d(t,{Z:()=>l});var r,a=o(5619),s=o.n(a);e=o.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e),"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const n=new(s().Schema)({text:{type:String,required:"Text is required"},photo:{data:Buffer,contentType:String},postedBy:{type:s().Schema.ObjectId,ref:"User"},created:{type:Date,default:Date.now()},likes:[{type:s().Schema.ObjectId,ref:"User"}],comments:[{text:String,created:{type:Date,default:Date.now},postedBy:{type:s().Schema.ObjectId,ref:"User"}}]}),i=s().model("Post",n),l=i;var c,d;(c="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(c.register(n,"PostSchema","/home/prithvi/Desktop/Projects/socialize/server/models/post.model.js"),c.register(i,"default","/home/prithvi/Desktop/Projects/socialize/server/models/post.model.js")),(d="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&d(e)},9630:(e,t,o)=>{"use strict";o.d(t,{Z:()=>d});var r=o(5619),a=o.n(r);const s=require("crypto");var n,i=o.n(s);e=o.hmd(e),(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&n(e),"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const l=new(a().Schema)({name:{type:String,trim:!0,required:"Name is required"},email:{type:String,trim:!0,unique:"Email already exists",match:[/.+\@.+\..+/,"Please fill a valid email address"],required:"Email is required !"},hashed_password:{type:String,required:"Password is required !"},salt:String,updated:Date,created:{type:Date,default:Date.now},about:{type:String,trim:!0},photo:{data:Buffer,contentType:String},following:[{type:a().Schema.ObjectId,ref:"User"}],followers:[{type:a().Schema.ObjectId,ref:"User"}]});l.virtual("password").set((function(e){this._password=e,this.salt=this.makeSalt(),this.hashed_password=this.encryptPassword(e)})).get((function(){return this._password})),l.path("hashed_password").validate((function(e){this._password&&this._password.length<6&&this.invalidate("password","Password must be atleast 6 characters."),this.isNew&&!this._password&&this.invalidate("password","Password is required.")}),null),l.methods={authenticate:function(e){return this.encryptPassword(e)===this.hashed_password},encryptPassword:function(e){if(!e)return"";try{return i().createHmac("sha1",this.salt).update(e).digest("hex")}catch(e){return""}},makeSalt:function(){return Math.round((new Date).valueOf()*Math.random())+""}};const c=a().model("User",l),d=c;var u,p;(u="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(u.register(l,"UserSchema","/home/prithvi/Desktop/Projects/socialize/server/models/user.model.js"),u.register(c,"default","/home/prithvi/Desktop/Projects/socialize/server/models/user.model.js")),(p="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&p(e)},6504:(e,t,o)=>{"use strict";o.d(t,{Z:()=>c});var r,a=o(2127),s=o.n(a),n=o(949);e=o.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e),"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const i=s().Router();i.route("/auth/signin").post(n.Z.signin),i.route("/auth/signout").get(n.Z.signout);const l=i,c=l;var d,u;(d="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(d.register(i,"router","/home/prithvi/Desktop/Projects/socialize/server/routes/auth.routes.js"),d.register(l,"default","/home/prithvi/Desktop/Projects/socialize/server/routes/auth.routes.js")),(u="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&u(e)},2053:(e,t,o)=>{"use strict";o.d(t,{Z:()=>u});var r,a=o(2127),s=o.n(a),n=o(4639),i=o(949),l=o(1513);e=o.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e),"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const c=s().Router();c.route("/api/posts/new/:userId").post(i.Z.requireSignin,l.Z.create),c.route("/api/posts/photo/:postId").get(l.Z.photo),c.route("/api/posts/by/:userId").get(i.Z.requireSignin,l.Z.listByUser),c.route("/api/posts/feed/:userId").get(i.Z.requireSignin,l.Z.listNewsFeed),c.route("/api/posts/like").put(i.Z.requireSignin,l.Z.like),c.route("/api/posts/unlike").put(i.Z.requireSignin,l.Z.unlike),c.route("/api/posts/comment").put(i.Z.requireSignin,l.Z.comment),c.route("/api/posts/uncomment").put(i.Z.requireSignin,l.Z.uncomment),c.route("/api/posts/:postId").delete(i.Z.requireSignin,l.Z.isPoster,l.Z.remove),c.param("userId",n.Z.userByID),c.param("postId",l.Z.postByID);const d=c,u=d;var p,m;(p="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(p.register(c,"router","/home/prithvi/Desktop/Projects/socialize/server/routes/post.routes.js"),p.register(d,"default","/home/prithvi/Desktop/Projects/socialize/server/routes/post.routes.js")),(m="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&m(e)},9816:(e,t,o)=>{"use strict";o.d(t,{Z:()=>d});var r,a=o(2127),s=o.n(a),n=o(4639),i=o(949);e=o.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e),"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const l=s().Router();l.route("/api/users").get(n.Z.list).post(n.Z.create),l.route("/api/users/photo/:userId").get(n.Z.photo,n.Z.defaultPhoto),l.route("/api/users/defaultphoto").get(n.Z.defaultPhoto),l.route("/api/users/follow").put(i.Z.requireSignin,i.Z.addFollowing,i.Z.addFollower),l.route("/api/users/unfollow").put(i.Z.requireSignin,i.Z.removeFollowing,i.Z.removeFollower),l.route("/api/users/discover/:userId").get(i.Z.requireSignin,n.Z.discover),l.route("/api/users/:userId").get(i.Z.requireSignin,n.Z.read).put(i.Z.requireSignin,i.Z.hasAuthorization,n.Z.update).delete(i.Z.requireSignin,i.Z.hasAuthorization,n.Z.remove),l.param("userId",n.Z.userById);const c=l,d=c;var u,p;(u="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(u.register(l,"router","/home/prithvi/Desktop/Projects/socialize/server/routes/user.routes.js"),u.register(c,"default","/home/prithvi/Desktop/Projects/socialize/server/routes/user.routes.js")),(p="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&p(e)},2281:(e,t,o)=>{"use strict";var r;o.d(t,{Z:()=>s}),e=o.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e),"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const a=({markup:e,css:t})=>`\n        <!DOCYPE html>\n        <html lang="en">\n            <head>\n                <title>Socialize</title>\n                <link rel="preconnect" href="https://fonts.gstatic.com">\n                <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300&display=swap" \n                rel="stylesheet">\n                <link href="https://fonts.googleapis.com/icon?family=Material+Icons"\n                rel="stylesheet">\n                <style>\n                    a {\n                        text-decoration: none;\n                        color: #061d95;\n                    }\n                </style>\n            </head>\n            <body>\n                <div id="root">${e}</div>\n                <style id="jss-server-side>${t}</style>\n                <script type="text/javascript" src="/dist/bundle.js"><\/script>\n            </body>\n        </html>\n    `,s=a;var n,i;(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&n.register(a,"default","/home/prithvi/Desktop/Projects/socialize/template.js"),(i="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&i(e)},9083:(e,t,o)=>{var r;e=o.nmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e),"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const a=o(5622),s=o(4078),n=process.cwd(),i={name:"browser",mode:"development",devtool:"eval-source-map",entry:["webpack-hot-middleware/client?reload=true",a.join(n,"client/main.js")],output:{path:a.join(n,"/dist"),filename:"bundle.js",publicPath:"/dist/"},module:{rules:[{test:/\.jsx?$/,exclude:/node_modules/,use:["babel-loader"]},{test:/\.(ttf|eot|svg|gif|jpg|png)(\?[\s\S]+)?$/,use:"file-loader"}]},plugins:[new s.HotModuleReplacementPlugin,new s.NoEmitOnErrorsPlugin],resolve:{alias:{"react-dom":"@hot-loader/react-dom"}}};var l,c;e.exports=i,(l="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(l.register(n,"CURRENT_WORKING_DIR","/home/prithvi/Desktop/Projects/socialize/webpack.config.client.js"),l.register(i,"config","/home/prithvi/Desktop/Projects/socialize/webpack.config.client.js")),(c="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&c(e)},2905:e=>{"use strict";e.exports=require("@material-ui/core/AppBar")},9558:e=>{"use strict";e.exports=require("@material-ui/core/Avatar")},9767:e=>{"use strict";e.exports=require("@material-ui/core/Button")},9575:e=>{"use strict";e.exports=require("@material-ui/core/Card")},3162:e=>{"use strict";e.exports=require("@material-ui/core/CardActions")},3866:e=>{"use strict";e.exports=require("@material-ui/core/CardContent")},7486:e=>{"use strict";e.exports=require("@material-ui/core/CardHeader")},7693:e=>{"use strict";e.exports=require("@material-ui/core/Dialog")},1279:e=>{"use strict";e.exports=require("@material-ui/core/DialogActions")},7513:e=>{"use strict";e.exports=require("@material-ui/core/DialogContent")},9794:e=>{"use strict";e.exports=require("@material-ui/core/DialogContentText")},5267:e=>{"use strict";e.exports=require("@material-ui/core/DialogTitle")},5207:e=>{"use strict";e.exports=require("@material-ui/core/Divider")},1310:e=>{"use strict";e.exports=require("@material-ui/core/Icon")},1550:e=>{"use strict";e.exports=require("@material-ui/core/IconButton")},9908:e=>{"use strict";e.exports=require("@material-ui/core/List")},8305:e=>{"use strict";e.exports=require("@material-ui/core/ListItem")},3673:e=>{"use strict";e.exports=require("@material-ui/core/ListItemAvatar")},1667:e=>{"use strict";e.exports=require("@material-ui/core/ListItemSecondaryAction")},2339:e=>{"use strict";e.exports=require("@material-ui/core/ListItemText")},2959:e=>{"use strict";e.exports=require("@material-ui/core/Paper")},2879:e=>{"use strict";e.exports=require("@material-ui/core/TextField")},4740:e=>{"use strict";e.exports=require("@material-ui/core/Typography")},8604:e=>{"use strict";e.exports=require("@material-ui/core/styles")},9414:e=>{"use strict";e.exports=require("@material-ui/icons/Delete")},2127:e=>{"use strict";e.exports=require("express")},8928:e=>{"use strict";e.exports=require("formidable")},5747:e=>{"use strict";e.exports=require("fs")},5619:e=>{"use strict";e.exports=require("mongoose")},5622:e=>{"use strict";e.exports=require("path")},4229:e=>{"use strict";e.exports=require("prop-types")},9297:e=>{"use strict";e.exports=require("react")},2146:e=>{"use strict";e.exports=require("react-router-dom")},4078:e=>{"use strict";e.exports=require("webpack")}},t={};function o(r){var a=t[r];if(void 0!==a)return a.exports;var s=t[r]={id:r,loaded:!1,exports:{}};return e[r](s,s.exports,o),s.loaded=!0,s.exports}o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o.hmd=e=>((e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e),o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),o.p="/dist/";var r={};(()=>{"use strict";o.r(r);var e=o(8237),t=o(642),a=o(5619),s=o.n(a);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature,s().Promise=global.Promise,s().connect(e.Z.mongoUri,{useNewUrlParser:!0,useCreateIndex:!0,useUnifiedTopology:!0}),s().connection.on("error",(()=>{throw new Error(`unable to connect to database: ${e.Z.mongoUri}`)})),t.Z.listen(e.Z.port,(t=>{t&&console.log(t),console.log("Server started successfully and listening on port "+e.Z.port+".")}))})(),module.exports=r})();